.block-editor-block-styles__item {
	width: calc(50% - #{ $grid-unit-05 });
	margin: $grid-unit-05 0;
	flex-shrink: 0;
	cursor: pointer;
	overflow: hidden;
	border-radius: $radius-block-ui;
	padding: $grid-unit-05 * 1.5;
	display: flex;
	flex-direction: column;

	&:focus {
		box-shadow: 0 0 0 var(--wp-admin-border-width-focus) var(--wp-admin-theme-color);

		// Windows High Contrast mode will show this outline, but not the box-shadow.
		outline: 2px solid transparent;
	}

	&:hover .block-editor-block-styles__item-preview {
		border-color: var(--wp-admin-theme-color);
	}

	&.is-active {
		.block-editor-block-styles__item-label {
			font-weight: bold;
		}

		.block-editor-block-styles__item-preview {
			margin: 0;
			border: 2px solid $gray-900;
		}
	}

	.block-editor-block-preview__container {
		cursor: inherit;
	}
}

// Block style previews
.block-editor-block-switcher__popover__preview__parent {
	.block-editor-block-switcher__popover__preview__container {
		position: absolute;
		top: -$grid-unit-15;
		left: calc(100% + #{$grid-unit-40});
	}
}

.block-editor-block-switcher__preview__popover {
	display: none;

	// Position correctly. Needs specificity.
	&.components-popover {
		margin-left: $grid-unit-05;
		margin-top: $grid-unit-15 - $border-width;
	}

	@include break-medium() {
		display: block;
	}

	.components-popover__content {
		box-shadow: none;
		border: $border-width solid $gray-900;
		background: $white;
		border-radius: $radius-block-ui;
	}

	.block-editor-block-switcher__preview {
		width: 300px;
		height: auto;
		max-height: 500px;
		padding: $grid-unit-20;
	}
}

.block-editor-block-switcher__preview-title {
	margin-bottom: $grid-unit-15;
	color: $gray-700;
	text-transform: uppercase;
	font-size: 11px;
	font-weight: 500;
}

/* -- OLD BOY  */
.block-editor-block-styles__popover {
	width: 300px;
}

.block-editor-block-styles__preview-container {
	display: none;
	min-width: 300px;
	background: $white;
	border-radius: $radius-block-ui;
	border: $border-width solid $gray-300;
	max-height: calc(100% - #{$grid-unit-40});
	overflow-y: hidden;
	@include break-medium {
		display: block;
	}
}

.block-editor-block-styles__preview-content {
	min-height: $grid-unit-60 * 3;
	background: $gray-100;
	display: grid;
	flex-grow: 1;
	align-items: center;
}

.block-editor-block-styles__preview-panel-label {
	font-weight: bold;
	color: $gray-900;
	padding: 8px 0 8px 10px;
}

.block-editor-block-styles__variants {
	display: flex;
	flex-wrap: wrap;
	justify-content: space-between;
	margin-bottom: $grid-unit-05;

	.block-editor-block-styles__button {
		color: $gray-800;
		box-shadow: inset 0 0 0 1px $gray-400;
		display: inline-block;
		min-width: calc(50% - #{$grid-unit-05});
		margin-bottom: $grid-unit-10;
		height: 42px;

		&:focus,
		&:hover {
			color: var(--wp-admin-theme-color);
			box-shadow: inset 0 0 0 1px var(--wp-admin-theme-color);
		}

		&.is-active,
		&.is-active:hover {
			color: $gray-900;
			box-shadow: inset 0 0 0 2px $gray-900;
		}
	}
}

// Show a little preview thumbnail for style variations.
.block-editor-block-styles__item-preview {
	outline: $border-width solid transparent; // Shown in Windows High Contrast mode.
	padding: 0;
	margin: 2px;
	border-radius: $radius-block-ui;
	display: flex;
	overflow: hidden;
	background: $white;
	align-items: center;
	flex-grow: 1;
	min-height: 80px;
	max-height: 160px;
}

.block-editor-block-switcher__styles__menugroup {
	position: relative;
}

.block-editor-block-styles__item-label {
	text-align: center;
	padding: 4px 0;
}
