// SASS variables for normal drag handle and bar size.
// Override in your scss file by setting these variables FIRST, then including this file.
$drag-handle-width: 10px !default;
$drag-handle-height: 10px !default;
$drag-bar-size: 6px !default;

// Query to kick us into "mobile" mode with larger drag handles/bars.
// See: https://developer.mozilla.org/en-US/docs/Web/CSS/@media/pointer
$mobile-media-query: "(pointer: coarse)" !default;

// Mobile handle/bar sizes.  Override as above.
$drag-handle-mobile-width: 34px !default;
$drag-handle-mobile-height: 34px !default;

// Handle color/border.
$drag-handle-background-colour: rgba(0, 0, 0, 0.2) !default;
$drag-handle-border: 1px solid rgba(255, 255, 255, 0.7) !default;

// Working State.
.richimage__working {
	position: relative;

	.richimage__working-notice {
		position: absolute;
		z-index: 1;
		top: 18px;
		left: 18px;
	}

	img {
		opacity: 0.6;
		transition: all 0.4s ease; // Make flips smooth.
	}

	&.richimage__working__flipv img {
		transform: scale(1, -1);
	}

	&.richimage__working__fliph img {
		transform: scale(-1, 1);
	}
}

// Without this the toolbar buttons gain padding, making them too tall and breaking the toolbar
// This only happens during the processing state as we change the dropdowns into buttons to disable the dropdowns
.richimage-toolbar__working {
	padding: 0 6px;
}

.richimage-crop {
	.components-resizable-box__handle {
		display: block;
	}
}

.richimage__crop-area {
	position: relative;
	max-width: 100%;
}

.richimage__crop-icon {
	padding: 0 8px;
	min-width: 48px;
	display: flex;
	justify-content: center;
	align-items: center;

	svg {
		fill: currentColor;
	}
}

.richimage-filters__images {
	display: flex;
	align-items: flex-start;
	justify-content: space-between;
	flex-wrap: wrap;
	width: 100%;

	.richimage-filterimage {
		text-align: center;
		margin-bottom: 1em;
		width: 25%;
		padding: 4px;
		cursor: pointer;

		border-radius: 4px;
		border: 2px solid transparent;

		&:focus {
			border-color: #057cba;
		}

		img {
			display: block;
			width: 100%;
			height: auto;
		}

		div {
			border: 4px solid transparent;
		}
	}

	.richimage-filterimage__selected {
		div {
			border-color: #057cba;
		}

		p {
			font-weight: bold;
		}
	}

	p {
		margin: 1em 0 0 0;
	}
}

.richimage-filters__button-group {
	text-align: right;

	.components-button {
		margin-left: 16px;
	}
}

// Make the toolbar dropdowns blend in.
.components-toolbar.richimage-toolbar__dropdown { // Needs specificity.
	padding: 0;
	border-left: none;
	border-right: none;

	.components-icon-button.has-text svg {
		margin-right: 0;
	}

	.components-dropdown-menu__indicator {
		display: none;
	}
}

// Make icons 24x24 unscaled.
.richimage-toolbar__dropdown > .components-button,
.richimage-toolbar__dropdown,
.richimage-toolbar__control {
	padding: 6px;
}
