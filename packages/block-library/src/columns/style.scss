.wp-block-columns {
	display: flex;

	// Responsiveness: Allow wrapping on mobile.
	flex-wrap: wrap;

	@include break-medium() {
		flex-wrap: nowrap;
	}
}

.wp-block-column {
	flex: 1;
	margin-bottom: 1em;

	// Responsiveness: Show at most one columns on mobile.
	flex-basis: 100%;

	// Beyond mobile, allow 2 columns.
	@include break-small() {

		// Size should be half the available width, minus the margins added below
		flex-basis: calc(50% - #{$grid-size-large * 2});
		flex-grow: 0;
	}

	// Prevent the columns from growing wider than their distributed sizes.
	min-width: 0;

	// Prevent long unbroken words from overflowing.
	word-break: break-word; // For back-compat.
	overflow-wrap: break-word; // New standard.

	// Add space between columns. Themes can customize this if they wish to work differently.
	// Only apply this beyond the mobile breakpoint, as there's only a single column on mobile.

	// 2 columns at this breakpoint, and items beyond the second will wrap.
	@include break-small() {
		&:nth-child(even) {
			margin-left: $grid-size-large * 2;
		}
		&:nth-child(odd) {
			margin-right: $grid-size-large * 2;
		}
	}

	// N columns at this breakpoint.
	// Reset odd, even margins from small breakpoint.
	// Add margin to both sides on all inside columns.
	// Add inner margin only on first and last items.
	@include break-medium() {
		&:nth-child(even) {
			margin-left: initial;
		}
		&:nth-child(odd) {
			margin-right: initial;
		}
		&:not(:first-child) {
			margin-left: $grid-size-large * 2;
		}
		&:not(:last-child) {
			margin-right: $grid-size-large * 2;
		}
	}
}
