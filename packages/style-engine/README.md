# Style Engine

The Style Engine powering global styles and block customizations.

## Installation (JS only)

Install the module

```bash
npm install @wordpress/style-engine --save
```

_This package assumes that your code will run in an **ES2015+** environment. If you're using an environment that has limited or no support for such language features and APIs, you should include [the polyfill shipped in `@wordpress/babel-preset-default`](https://github.com/WordPress/gutenberg/tree/HEAD/packages/babel-preset-default#polyfill) in your code._

## Glossary

A guide to the terms and variable names referenced by the Style Engine package.

<dl>
  <dt>Block style</dt>
  <dd>An object from a block's style attribute that contains a block's style values. E.g., <code>{ spacing: { margin: '10px' }, color: { ... }, ...  }</code></dd>
  <dt>Global styles</dt>
  <dd>A merged block styles object containing values from a theme's theme.json and user styles settings.</dd>
  <dt>CSS declaration or (CSS property declaration)</dt>
  <dd>When a CSS property is paired with a CSS value, this pairing is called a CSS declaration. </dd>
  <dt>CSS declarations block</dt>
  <dd>A set of CSS declarations usually paired with CSS selectors to create a CSS rule.</dd>
  <dt>CSS property</dt>
  <dd></dd>
  <dt>CSS rule</dt>
  <dd>A CSS selector followed by a CSS declarations block inside a set of curly braces</dd>
  <dt>CSS selector</dt>
  <dd></dd>
  <dt>CSS value</dt>
  <dd></dd>
  <dt>CSS var</dt>
  <dd></dd>
  <dt>Inline styles</dt>
  <dd>Inline styles are CSS declarations that affect a single HTML element, contained within a style attribute</dd>
</dl>

### Block style


## Important

This Package is considered experimental at the moment. The idea is to have a package used to generate styles based on a style object that is consistent between: backend, frontend, block style object and theme.json.

Currently it's not a package that generates a wp.styleEngine global because it's not ready yet, it's still a bundled package but ultimately, we want it to be so, once the roadmap is finished:

**TODO List:**

-   Add style definitions for all the currently supported styles in blocks and theme.json.
-   the CSS variable shortcuts for values (for presets...)
-   Support generating styles in the frontend. (Ongoing)
-   Support generating styles in the backend (block supports and theme.json stylesheet). (Ongoing)
-   Refactor all block styles to use the style engine server side. (Ongoing)
-   Refactor all blocks to consistently use the "style" attribute for all customizations (get rid of the preset specific attributes).

## Usage

<!-- START TOKEN(Autogenerated API docs) -->

### generate

Generates a stylesheet for a given style object and selector.

_Parameters_

-   _style_ `Style`: Style object.
-   _options_ `StyleOptions`: Options object with settings to adjust how the styles are generated.

_Returns_

-   `string`: generated stylesheet.

### getCSSRules

Returns a JSON representation of the generated CSS rules.

_Parameters_

-   _style_ `Style`: Style object.
-   _options_ `StyleOptions`: Options object with settings to adjust how the styles are generated.

_Returns_

-   `GeneratedCSSRule[]`: generated styles.

<!-- END TOKEN(Autogenerated API docs) -->

<br/><br/><p align="center"><img src="https://s.w.org/style/images/codeispoetry.png?1" alt="Code is Poetry." /></p>
