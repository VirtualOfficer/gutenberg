"use strict";(globalThis.webpackChunkgutenberg=globalThis.webpackChunkgutenberg||[]).push([[7319],{"./packages/components/build-module/checkbox-control/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{C:()=>__WEBPACK_DEFAULT_EXPORT__});var clsx__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/clsx/dist/clsx.mjs"),_wordpress_element__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/react/index.js"),_wordpress_compose__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./packages/compose/build-module/hooks/use-ref-effect/index.js"),_wordpress_compose__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./packages/compose/build-module/hooks/use-instance-id/index.js"),_wordpress_deprecated__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/deprecated/build-module/index.js"),_wordpress_icons__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./packages/icons/build-module/icon/index.js"),_wordpress_icons__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./packages/icons/build-module/library/reset.js"),_wordpress_icons__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("./packages/icons/build-module/library/check.js"),_base_control__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./packages/components/build-module/base-control/index.js"),_h_stack__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./packages/components/build-module/h-stack/component.js"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/jsx-runtime.js");const __WEBPACK_DEFAULT_EXPORT__=function CheckboxControl(props){const{__nextHasNoMarginBottom,label,className,heading,checked,indeterminate,help,id:idProp,onChange,...additionalProps}=props;heading&&(0,_wordpress_deprecated__WEBPACK_IMPORTED_MODULE_1__.Z)("`heading` prop in `CheckboxControl`",{alternative:"a separate element to implement a heading",since:"5.8"});const[showCheckedIcon,setShowCheckedIcon]=(0,_wordpress_element__WEBPACK_IMPORTED_MODULE_2__.useState)(!1),[showIndeterminateIcon,setShowIndeterminateIcon]=(0,_wordpress_element__WEBPACK_IMPORTED_MODULE_2__.useState)(!1),ref=(0,_wordpress_compose__WEBPACK_IMPORTED_MODULE_3__.Z)((node=>{node&&(node.indeterminate=!!indeterminate,setShowCheckedIcon(node.matches(":checked")),setShowIndeterminateIcon(node.matches(":indeterminate")))}),[checked,indeterminate]),id=(0,_wordpress_compose__WEBPACK_IMPORTED_MODULE_4__.Z)(CheckboxControl,"inspector-checkbox-control",idProp);return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_base_control__WEBPACK_IMPORTED_MODULE_5__.ZP,{__nextHasNoMarginBottom,__associatedWPComponentName:"CheckboxControl",label:heading,id,help:help&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span",{className:"components-checkbox-control__help",children:help}),className:(0,clsx__WEBPACK_IMPORTED_MODULE_6__.Z)("components-checkbox-control",className),children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_h_stack__WEBPACK_IMPORTED_MODULE_7__.Z,{spacing:0,justify:"start",alignment:"top",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("span",{className:"components-checkbox-control__input-container",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("input",{ref,id,className:"components-checkbox-control__input",type:"checkbox",value:"1",onChange:event=>onChange(event.target.checked),checked,"aria-describedby":help?id+"__help":void 0,...additionalProps}),showIndeterminateIcon?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_wordpress_icons__WEBPACK_IMPORTED_MODULE_8__.Z,{icon:_wordpress_icons__WEBPACK_IMPORTED_MODULE_9__.Z,className:"components-checkbox-control__indeterminate",role:"presentation"}):null,showCheckedIcon?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_wordpress_icons__WEBPACK_IMPORTED_MODULE_8__.Z,{icon:_wordpress_icons__WEBPACK_IMPORTED_MODULE_10__.Z,className:"components-checkbox-control__checked",role:"presentation"}):null]}),label&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("label",{className:"components-checkbox-control__label",htmlFor:id,children:label})]})})}},"./packages/components/build-module/dropdown/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var clsx__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./node_modules/clsx/dist/clsx.mjs"),_wordpress_element__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/react/index.js"),_wordpress_compose__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./packages/compose/build-module/hooks/use-merge-refs/index.js"),_wordpress_deprecated__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./packages/deprecated/build-module/index.js"),_context__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/components/build-module/context/use-context-system.js"),_context__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./packages/components/build-module/context/context-connect.js"),_utils_hooks__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./packages/components/build-module/utils/hooks/use-controlled-value.js"),_popover__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./packages/components/build-module/popover/index.js"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/jsx-runtime.js");const __WEBPACK_DEFAULT_EXPORT__=(0,_context__WEBPACK_IMPORTED_MODULE_8__.Iq)(((props,forwardedRef)=>{const{renderContent,renderToggle,className,contentClassName,expandOnMobile,headerTitle,focusOnMount,popoverProps,onClose,onToggle,style,open,defaultOpen,position,variant}=(0,_context__WEBPACK_IMPORTED_MODULE_1__.y)(props,"Dropdown");void 0!==position&&(0,_wordpress_deprecated__WEBPACK_IMPORTED_MODULE_2__.Z)("`position` prop in wp.components.Dropdown",{since:"6.2",alternative:"`popoverProps.placement` prop",hint:"Note that the `position` prop will override any values passed through the `popoverProps.placement` prop."});const[fallbackPopoverAnchor,setFallbackPopoverAnchor]=(0,_wordpress_element__WEBPACK_IMPORTED_MODULE_3__.useState)(null),containerRef=(0,_wordpress_element__WEBPACK_IMPORTED_MODULE_3__.useRef)(),[isOpen,setIsOpen]=(0,_utils_hooks__WEBPACK_IMPORTED_MODULE_4__.O)({defaultValue:defaultOpen,value:open,onChange:onToggle});function close(){onClose?.(),setIsOpen(!1)}const args={isOpen:!!isOpen,onToggle:()=>setIsOpen(!isOpen),onClose:close},popoverPropsHaveAnchor=!!(popoverProps?.anchor||popoverProps?.anchorRef||popoverProps?.getAnchorRect||popoverProps?.anchorRect);return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className,ref:(0,_wordpress_compose__WEBPACK_IMPORTED_MODULE_5__.Z)([containerRef,forwardedRef,setFallbackPopoverAnchor]),tabIndex:-1,style,children:[renderToggle(args),isOpen&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_popover__WEBPACK_IMPORTED_MODULE_6__.ZP,{position,onClose:close,onFocusOutside:function closeIfFocusOutside(){if(!containerRef.current)return;const{ownerDocument}=containerRef.current,dialog=ownerDocument?.activeElement?.closest('[role="dialog"]');containerRef.current.contains(ownerDocument.activeElement)||dialog&&!dialog.contains(containerRef.current)||close()},expandOnMobile,headerTitle,focusOnMount,offset:13,anchor:popoverPropsHaveAnchor?void 0:fallbackPopoverAnchor,variant,...popoverProps,className:(0,clsx__WEBPACK_IMPORTED_MODULE_7__.Z)("components-dropdown__content",popoverProps?.className,contentClassName),children:renderContent(args)})]})}),"Dropdown")},"./packages/components/build-module/grid/component.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>grid_component});var context_connect=__webpack_require__("./packages/components/build-module/context/context-connect.js"),component=__webpack_require__("./packages/components/build-module/view/component.js"),emotion_react_browser_esm=__webpack_require__("./node_modules/@emotion/react/dist/emotion-react.browser.esm.js"),react=__webpack_require__("./node_modules/react/index.js"),use_context_system=__webpack_require__("./packages/components/build-module/context/use-context-system.js");const ALIGNMENTS={bottom:{alignItems:"flex-end",justifyContent:"center"},bottomLeft:{alignItems:"flex-start",justifyContent:"flex-end"},bottomRight:{alignItems:"flex-end",justifyContent:"flex-end"},center:{alignItems:"center",justifyContent:"center"},spaced:{alignItems:"center",justifyContent:"space-between"},left:{alignItems:"center",justifyContent:"flex-start"},right:{alignItems:"center",justifyContent:"flex-end"},stretch:{alignItems:"stretch"},top:{alignItems:"flex-start",justifyContent:"center"},topLeft:{alignItems:"flex-start",justifyContent:"flex-start"},topRight:{alignItems:"flex-start",justifyContent:"flex-end"}};var use_responsive_value=__webpack_require__("./packages/components/build-module/utils/use-responsive-value.js"),config_values=__webpack_require__("./packages/components/build-module/utils/config-values.js"),use_cx=__webpack_require__("./packages/components/build-module/utils/hooks/use-cx.js");function useGrid(props){const{align,alignment,className,columnGap,columns=2,gap=3,isInline=!1,justify,rowGap,rows,templateColumns,templateRows,...otherProps}=(0,use_context_system.y)(props,"Grid"),columnsAsArray=Array.isArray(columns)?columns:[columns],column=(0,use_responsive_value.V)(columnsAsArray),rowsAsArray=Array.isArray(rows)?rows:[rows],row=(0,use_responsive_value.V)(rowsAsArray),gridTemplateColumns=templateColumns||!!columns&&`repeat( ${column}, 1fr )`,gridTemplateRows=templateRows||!!rows&&`repeat( ${row}, 1fr )`,cx=(0,use_cx.I)();return{...otherProps,className:(0,react.useMemo)((()=>{const alignmentProps=function getAlignmentProps(alignment){return alignment?ALIGNMENTS[alignment]:{}}(alignment),gridClasses=(0,emotion_react_browser_esm.iv)({alignItems:align,display:isInline?"inline-grid":"grid",gap:`calc( ${config_values.Z.gridBase} * ${gap} )`,gridTemplateColumns:gridTemplateColumns||void 0,gridTemplateRows:gridTemplateRows||void 0,gridRowGap:rowGap,gridColumnGap:columnGap,justifyContent:justify,verticalAlign:isInline?"middle":void 0,...alignmentProps},"","","","");return cx(gridClasses,className)}),[align,alignment,className,columnGap,cx,gap,gridTemplateColumns,gridTemplateRows,isInline,justify,rowGap])}}var jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js");const grid_component=(0,context_connect.Iq)((function UnconnectedGrid(props,forwardedRef){const gridProps=useGrid(props);return(0,jsx_runtime.jsx)(component.Z,{...gridProps,ref:forwardedRef})}),"Grid")},"./packages/components/build-module/heading/component.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>heading_component});var context_connect=__webpack_require__("./packages/components/build-module/context/context-connect.js"),component=__webpack_require__("./packages/components/build-module/view/component.js"),use_context_system=__webpack_require__("./packages/components/build-module/context/use-context-system.js"),hook=__webpack_require__("./packages/components/build-module/text/hook.js"),font_size=__webpack_require__("./packages/components/build-module/utils/font-size.js"),colors_values=__webpack_require__("./packages/components/build-module/utils/colors-values.js"),config_values=__webpack_require__("./packages/components/build-module/utils/config-values.js");var jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js");const heading_component=(0,context_connect.Iq)((function UnconnectedHeading(props,forwardedRef){const headerProps=function useHeading(props){const{as:asProp,level=2,color=colors_values.D.gray[900],isBlock=!0,weight=config_values.Z.fontWeightHeading,...otherProps}=(0,use_context_system.y)(props,"Heading"),as=asProp||`h${level}`,a11yProps={};return"string"==typeof as&&"h"!==as[0]&&(a11yProps.role="heading",a11yProps["aria-level"]="string"==typeof level?parseInt(level):level),{...(0,hook.Z)({color,isBlock,weight,size:(0,font_size.gZ)(level),...otherProps}),...a11yProps,as}}(props);return(0,jsx_runtime.jsx)(component.Z,{...headerProps,ref:forwardedRef})}),"Heading")},"./packages/components/build-module/utils/hooks/use-controlled-state.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var _wordpress_element__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_values__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/components/build-module/utils/values.js");const defaultOptions={initial:void 0,fallback:""};const __WEBPACK_DEFAULT_EXPORT__=function useControlledState(currentState,options=defaultOptions){const{initial,fallback}={...defaultOptions,...options},[internalState,setInternalState]=(0,_wordpress_element__WEBPACK_IMPORTED_MODULE_0__.useState)(currentState),hasCurrentState=(0,_values__WEBPACK_IMPORTED_MODULE_1__.Jf)(currentState);return(0,_wordpress_element__WEBPACK_IMPORTED_MODULE_0__.useEffect)((()=>{hasCurrentState&&internalState&&setInternalState(void 0)}),[hasCurrentState,internalState]),[(0,_values__WEBPACK_IMPORTED_MODULE_1__.Me)([currentState,internalState,initial],fallback),(0,_wordpress_element__WEBPACK_IMPORTED_MODULE_0__.useCallback)((nextState=>{hasCurrentState||setInternalState(nextState)}),[hasCurrentState])]}},"./packages/components/build-module/utils/strings.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{GL:()=>kebabCase,eK:()=>normalizeTextString,hr:()=>escapeRegExp});var remove_accents__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/remove-accents/index.js"),remove_accents__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(remove_accents__WEBPACK_IMPORTED_MODULE_0__),change_case__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/param-case/dist.es2015/index.js");const ALL_UNICODE_DASH_CHARACTERS=new RegExp(/[\u007e\u00ad\u2053\u207b\u208b\u2212\p{Pd}]/gu),normalizeTextString=value=>remove_accents__WEBPACK_IMPORTED_MODULE_0___default()(value).toLocaleLowerCase().replace(ALL_UNICODE_DASH_CHARACTERS,"-");function kebabCase(str){var _str$toString;let input=null!==(_str$toString=str?.toString?.())&&void 0!==_str$toString?_str$toString:"";return input=input.replace(/['\u2019]/,""),(0,change_case__WEBPACK_IMPORTED_MODULE_1__.o)(input,{splitRegexp:[/(?!(?:1ST|2ND|3RD|[4-9]TH)(?![a-z]))([a-z0-9])([A-Z])/g,/(?!(?:1st|2nd|3rd|[4-9]th)(?![a-z]))([0-9])([a-z])/g,/([A-Za-z])([0-9])/g,/([A-Z])([A-Z][a-z])/g]})}function escapeRegExp(string){return string.replace(/[\\^$.*+?()[\]{}|]/g,"\\$&")}},"./packages/icons/build-module/library/arrow-left.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var _wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/primitives/build-module/svg/index.js"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/jsx-runtime.js");const __WEBPACK_DEFAULT_EXPORT__=(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__.Wj,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__.y$,{d:"M20 11.2H6.8l3.7-3.7-1-1L3.9 12l5.6 5.5 1-1-3.7-3.7H20z"})})},"./packages/icons/build-module/library/arrow-up.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var _wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/primitives/build-module/svg/index.js"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/jsx-runtime.js");const __WEBPACK_DEFAULT_EXPORT__=(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__.Wj,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__.y$,{d:"M12 3.9 6.5 9.5l1 1 3.8-3.7V20h1.5V6.8l3.7 3.7 1-1z"})})},"./packages/icons/build-module/library/block-table.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var _wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/primitives/build-module/svg/index.js"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/jsx-runtime.js");const __WEBPACK_DEFAULT_EXPORT__=(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__.Wj,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__.y$,{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM5 4.5h14c.3 0 .5.2.5.5v3.5h-15V5c0-.3.2-.5.5-.5zm8 5.5h6.5v3.5H13V10zm-1.5 3.5h-7V10h7v3.5zm-7 5.5v-4h7v4.5H5c-.3 0-.5-.2-.5-.5zm14.5.5h-6V15h6.5v4c0 .3-.2.5-.5.5z"})})},"./packages/icons/build-module/library/category.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var _wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/primitives/build-module/svg/index.js"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/jsx-runtime.js");const __WEBPACK_DEFAULT_EXPORT__=(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__.Wj,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__.y$,{d:"M6 5.5h3a.5.5 0 01.5.5v3a.5.5 0 01-.5.5H6a.5.5 0 01-.5-.5V6a.5.5 0 01.5-.5zM4 6a2 2 0 012-2h3a2 2 0 012 2v3a2 2 0 01-2 2H6a2 2 0 01-2-2V6zm11-.5h3a.5.5 0 01.5.5v3a.5.5 0 01-.5.5h-3a.5.5 0 01-.5-.5V6a.5.5 0 01.5-.5zM13 6a2 2 0 012-2h3a2 2 0 012 2v3a2 2 0 01-2 2h-3a2 2 0 01-2-2V6zm5 8.5h-3a.5.5 0 00-.5.5v3a.5.5 0 00.5.5h3a.5.5 0 00.5-.5v-3a.5.5 0 00-.5-.5zM15 13a2 2 0 00-2 2v3a2 2 0 002 2h3a2 2 0 002-2v-3a2 2 0 00-2-2h-3zm-9 1.5h3a.5.5 0 01.5.5v3a.5.5 0 01-.5.5H6a.5.5 0 01-.5-.5v-3a.5.5 0 01.5-.5zM4 15a2 2 0 012-2h3a2 2 0 012 2v3a2 2 0 01-2 2H6a2 2 0 01-2-2v-3z",fillRule:"evenodd",clipRule:"evenodd"})})},"./packages/icons/build-module/library/check.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var _wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/primitives/build-module/svg/index.js"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/jsx-runtime.js");const __WEBPACK_DEFAULT_EXPORT__=(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__.Wj,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__.y$,{d:"M16.7 7.1l-6.3 8.5-3.3-2.5-.9 1.2 4.5 3.4L17.9 8z"})})},"./packages/icons/build-module/library/chevron-up.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var _wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/primitives/build-module/svg/index.js"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/jsx-runtime.js");const __WEBPACK_DEFAULT_EXPORT__=(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__.Wj,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__.y$,{d:"M6.5 12.4L12 8l5.5 4.4-.9 1.2L12 10l-4.5 3.6-1-1.2z"})})},"./packages/icons/build-module/library/cog.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var _wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/primitives/build-module/svg/index.js"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/jsx-runtime.js");const __WEBPACK_DEFAULT_EXPORT__=(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__.Wj,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__.y$,{fillRule:"evenodd",d:"M10.289 4.836A1 1 0 0111.275 4h1.306a1 1 0 01.987.836l.244 1.466c.787.26 1.503.679 2.108 1.218l1.393-.522a1 1 0 011.216.437l.653 1.13a1 1 0 01-.23 1.273l-1.148.944a6.025 6.025 0 010 2.435l1.149.946a1 1 0 01.23 1.272l-.653 1.13a1 1 0 01-1.216.437l-1.394-.522c-.605.54-1.32.958-2.108 1.218l-.244 1.466a1 1 0 01-.987.836h-1.306a1 1 0 01-.986-.836l-.244-1.466a5.995 5.995 0 01-2.108-1.218l-1.394.522a1 1 0 01-1.217-.436l-.653-1.131a1 1 0 01.23-1.272l1.149-.946a6.026 6.026 0 010-2.435l-1.148-.944a1 1 0 01-.23-1.272l.653-1.131a1 1 0 011.217-.437l1.393.522a5.994 5.994 0 012.108-1.218l.244-1.466zM14.929 12a3 3 0 11-6 0 3 3 0 016 0z",clipRule:"evenodd"})})},"./packages/icons/build-module/library/format-list-bullets-rtl.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var _wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/primitives/build-module/svg/index.js"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/jsx-runtime.js");const __WEBPACK_DEFAULT_EXPORT__=(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__.Wj,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__.y$,{d:"M4 8.8h8.9V7.2H4v1.6zm0 7h8.9v-1.5H4v1.5zM18 13c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0-3c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2z"})})},"./packages/icons/build-module/library/format-list-bullets.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var _wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/primitives/build-module/svg/index.js"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/jsx-runtime.js");const __WEBPACK_DEFAULT_EXPORT__=(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__.Wj,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__.y$,{d:"M11.1 15.8H20v-1.5h-8.9v1.5zm0-8.6v1.5H20V7.2h-8.9zM6 13c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0-7c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"})})},"./packages/icons/build-module/library/image.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var _wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/primitives/build-module/svg/index.js"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/jsx-runtime.js");const __WEBPACK_DEFAULT_EXPORT__=(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__.Wj,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__.y$,{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM5 4.5h14c.3 0 .5.2.5.5v8.4l-3-2.9c-.3-.3-.8-.3-1 0L11.9 14 9 12c-.3-.2-.6-.2-.8 0l-3.6 2.6V5c-.1-.3.1-.5.4-.5zm14 15H5c-.3 0-.5-.2-.5-.5v-2.4l4.1-3 3 1.9c.3.2.7.2.9-.1L16 12l3.5 3.4V19c0 .3-.2.5-.5.5z"})})},"./packages/icons/build-module/library/more-vertical.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var _wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/primitives/build-module/svg/index.js"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/jsx-runtime.js");const __WEBPACK_DEFAULT_EXPORT__=(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__.Wj,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__.y$,{d:"M13 19h-2v-2h2v2zm0-6h-2v-2h2v2zm0-6h-2V5h2v2z"})})},"./packages/icons/build-module/library/next.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var _wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/primitives/build-module/svg/index.js"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/jsx-runtime.js");const __WEBPACK_DEFAULT_EXPORT__=(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__.Wj,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__.y$,{d:"M6.6 6L5.4 7l4.5 5-4.5 5 1.1 1 5.5-6-5.4-6zm6 0l-1.1 1 4.5 5-4.5 5 1.1 1 5.5-6-5.5-6z"})})},"./packages/icons/build-module/library/previous.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var _wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/primitives/build-module/svg/index.js"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/jsx-runtime.js");const __WEBPACK_DEFAULT_EXPORT__=(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__.Wj,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__.y$,{d:"M11.6 7l-1.1-1L5 12l5.5 6 1.1-1L7 12l4.6-5zm6 0l-1.1-1-5.5 6 5.5 6 1.1-1-4.6-5 4.6-5z"})})},"./packages/icons/build-module/library/seen.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var _wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/primitives/build-module/svg/index.js"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/jsx-runtime.js");const __WEBPACK_DEFAULT_EXPORT__=(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__.Wj,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__.y$,{d:"M3.99961 13C4.67043 13.3354 4.6703 13.3357 4.67017 13.3359L4.67298 13.3305C4.67621 13.3242 4.68184 13.3135 4.68988 13.2985C4.70595 13.2686 4.7316 13.2218 4.76695 13.1608C4.8377 13.0385 4.94692 12.8592 5.09541 12.6419C5.39312 12.2062 5.84436 11.624 6.45435 11.0431C7.67308 9.88241 9.49719 8.75 11.9996 8.75C14.502 8.75 16.3261 9.88241 17.5449 11.0431C18.1549 11.624 18.6061 12.2062 18.9038 12.6419C19.0523 12.8592 19.1615 13.0385 19.2323 13.1608C19.2676 13.2218 19.2933 13.2686 19.3093 13.2985C19.3174 13.3135 19.323 13.3242 19.3262 13.3305L19.3291 13.3359C19.3289 13.3357 19.3288 13.3354 19.9996 13C20.6704 12.6646 20.6703 12.6643 20.6701 12.664L20.6697 12.6632L20.6688 12.6614L20.6662 12.6563L20.6583 12.6408C20.6517 12.6282 20.6427 12.6108 20.631 12.5892C20.6078 12.5459 20.5744 12.4852 20.5306 12.4096C20.4432 12.2584 20.3141 12.0471 20.1423 11.7956C19.7994 11.2938 19.2819 10.626 18.5794 9.9569C17.1731 8.61759 14.9972 7.25 11.9996 7.25C9.00203 7.25 6.82614 8.61759 5.41987 9.9569C4.71736 10.626 4.19984 11.2938 3.85694 11.7956C3.68511 12.0471 3.55605 12.2584 3.4686 12.4096C3.42484 12.4852 3.39142 12.5459 3.36818 12.5892C3.35656 12.6108 3.34748 12.6282 3.34092 12.6408L3.33297 12.6563L3.33041 12.6614L3.32948 12.6632L3.32911 12.664C3.32894 12.6643 3.32879 12.6646 3.99961 13ZM11.9996 16C13.9326 16 15.4996 14.433 15.4996 12.5C15.4996 10.567 13.9326 9 11.9996 9C10.0666 9 8.49961 10.567 8.49961 12.5C8.49961 14.433 10.0666 16 11.9996 16Z"})})},"./packages/icons/build-module/library/trash.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var _wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/primitives/build-module/svg/index.js"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/jsx-runtime.js");const __WEBPACK_DEFAULT_EXPORT__=(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__.Wj,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__.y$,{fillRule:"evenodd",clipRule:"evenodd",d:"M12 5.5A2.25 2.25 0 0 0 9.878 7h4.244A2.251 2.251 0 0 0 12 5.5ZM12 4a3.751 3.751 0 0 0-3.675 3H5v1.5h1.27l.818 8.997a2.75 2.75 0 0 0 2.739 2.501h4.347a2.75 2.75 0 0 0 2.738-2.5L17.73 8.5H19V7h-3.325A3.751 3.751 0 0 0 12 4Zm4.224 4.5H7.776l.806 8.861a1.25 1.25 0 0 0 1.245 1.137h4.347a1.25 1.25 0 0 0 1.245-1.137l.805-8.861Z"})})},"./packages/icons/build-module/library/unseen.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var _wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/primitives/build-module/svg/index.js"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/jsx-runtime.js");const __WEBPACK_DEFAULT_EXPORT__=(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__.Wj,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__.y$,{d:"M4.67 10.664s-2.09 1.11-2.917 1.582l.494.87 1.608-.914.002.002c.343.502.86 1.17 1.563 1.84.348.33.742.663 1.185.976L5.57 16.744l.858.515 1.02-1.701a9.1 9.1 0 0 0 4.051 1.18V19h1v-2.263a9.1 9.1 0 0 0 4.05-1.18l1.021 1.7.858-.514-1.034-1.723c.442-.313.837-.646 1.184-.977.703-.669 1.22-1.337 1.563-1.839l.002-.003 1.61.914.493-.87c-1.75-.994-2.918-1.58-2.918-1.58l-.003.005a8.29 8.29 0 0 1-.422.689 10.097 10.097 0 0 1-1.36 1.598c-1.218 1.16-3.042 2.293-5.544 2.293-2.503 0-4.327-1.132-5.546-2.293a10.099 10.099 0 0 1-1.359-1.599 8.267 8.267 0 0 1-.422-.689l-.003-.005Z"})})},"./packages/dataviews/src/normalize-fields.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{U:()=>normalizeFields});const field_types_integer={sort:function sort(a,b,direction){return"asc"===direction?a-b:b-a},isValid:function isValid(value,context){if(""===value)return!1;if(!Number.isInteger(Number(value)))return!1;if(context?.elements){const validValues=context?.elements.map((f=>f.value));if(!validValues.includes(Number(value)))return!1}return!0},Edit:"integer"};const field_types_text={sort:function text_sort(valueA,valueB,direction){return"asc"===direction?valueA.localeCompare(valueB):valueB.localeCompare(valueA)},isValid:function text_isValid(value,context){if(context?.elements){const validValues=context?.elements?.map((f=>f.value));if(!validValues.includes(value))return!1}return!0},Edit:"text"};const field_types_datetime={sort:function datetime_sort(a,b,direction){const timeA=new Date(a).getTime(),timeB=new Date(b).getTime();return"asc"===direction?timeA-timeB:timeB-timeA},isValid:function datetime_isValid(value,context){if(context?.elements){const validValues=context?.elements.map((f=>f.value));if(!validValues.includes(value))return!1}return!0},Edit:"datetime"};try{fieldtypes.displayName="fieldtypes",fieldtypes.__docgenInfo={description:"",displayName:"fieldtypes",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/dataviews/src/field-types/index.tsx#fieldtypes"]={docgenInfo:fieldtypes.__docgenInfo,name:"fieldtypes",path:"packages/dataviews/src/field-types/index.tsx#fieldtypes"})}catch(__react_docgen_typescript_loader_error){}var base_control=__webpack_require__("./packages/components/build-module/base-control/index.js"),component=__webpack_require__("./packages/components/build-module/visually-hidden/component.js"),time=__webpack_require__("./packages/components/build-module/date-time/time/index.js"),react=__webpack_require__("./node_modules/react/index.js"),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js");function DateTime({data,field,onChange,hideLabelFromVision}){const{id,label}=field,value=field.getValue({item:data}),onChangeControl=(0,react.useCallback)((newValue=>onChange({[id]:newValue})),[id,onChange]);return(0,jsx_runtime.jsxs)("fieldset",{className:"dataviews-controls__datetime",children:[!hideLabelFromVision&&(0,jsx_runtime.jsx)(base_control.ZP.VisualLabel,{as:"legend",children:label}),hideLabelFromVision&&(0,jsx_runtime.jsx)(component.Z,{as:"legend",children:label}),(0,jsx_runtime.jsx)(time.Z,{currentTime:value,onChange:onChangeControl,hideLabelFromVision:!0})]})}DateTime.displayName="DateTime";try{datetime.displayName="datetime",datetime.__docgenInfo={description:"",displayName:"datetime",props:{data:{defaultValue:null,description:"",name:"data",required:!0,type:{name:"Item"}},field:{defaultValue:null,description:"",name:"field",required:!0,type:{name:"NormalizedField<Item>"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!0,type:{name:"(value: Record<string, any>) => void"}},hideLabelFromVision:{defaultValue:null,description:"",name:"hideLabelFromVision",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/dataviews/src/dataform-controls/datetime.tsx#datetime"]={docgenInfo:datetime.__docgenInfo,name:"datetime",path:"packages/dataviews/src/dataform-controls/datetime.tsx#datetime"})}catch(__react_docgen_typescript_loader_error){}var number_control=__webpack_require__("./packages/components/build-module/number-control/index.js");function Integer({data,field,onChange,hideLabelFromVision}){var _field$getValue;const{id,label,description}=field,value=null!==(_field$getValue=field.getValue({item:data}))&&void 0!==_field$getValue?_field$getValue:"",onChangeControl=(0,react.useCallback)((newValue=>onChange({[id]:Number(newValue)})),[id,onChange]);return(0,jsx_runtime.jsx)(number_control.Z,{label,help:description,value,onChange:onChangeControl,__next40pxDefaultSize:!0,hideLabelFromVision})}Integer.displayName="Integer";try{integer.displayName="integer",integer.__docgenInfo={description:"",displayName:"integer",props:{data:{defaultValue:null,description:"",name:"data",required:!0,type:{name:"Item"}},field:{defaultValue:null,description:"",name:"field",required:!0,type:{name:"NormalizedField<Item>"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!0,type:{name:"(value: Record<string, any>) => void"}},hideLabelFromVision:{defaultValue:null,description:"",name:"hideLabelFromVision",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/dataviews/src/dataform-controls/integer.tsx#integer"]={docgenInfo:integer.__docgenInfo,name:"integer",path:"packages/dataviews/src/dataform-controls/integer.tsx#integer"})}catch(__react_docgen_typescript_loader_error){}var radio_control=__webpack_require__("./packages/components/build-module/radio-control/index.js");try{radio.displayName="radio",radio.__docgenInfo={description:"",displayName:"radio",props:{data:{defaultValue:null,description:"",name:"data",required:!0,type:{name:"Item"}},field:{defaultValue:null,description:"",name:"field",required:!0,type:{name:"NormalizedField<Item>"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!0,type:{name:"(value: Record<string, any>) => void"}},hideLabelFromVision:{defaultValue:null,description:"",name:"hideLabelFromVision",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/dataviews/src/dataform-controls/radio.tsx#radio"]={docgenInfo:radio.__docgenInfo,name:"radio",path:"packages/dataviews/src/dataform-controls/radio.tsx#radio"})}catch(__react_docgen_typescript_loader_error){}var select_control=__webpack_require__("./packages/components/build-module/select-control/index.js"),build_module=__webpack_require__("./packages/i18n/build-module/index.js");function Select({data,field,onChange,hideLabelFromVision}){var _field$getValue,_field$elements;const{id,label}=field,value=null!==(_field$getValue=field.getValue({item:data}))&&void 0!==_field$getValue?_field$getValue:"",onChangeControl=(0,react.useCallback)((newValue=>onChange({[id]:newValue})),[id,onChange]),elements=[{label:(0,build_module.__)("Select item"),value:""},...null!==(_field$elements=field?.elements)&&void 0!==_field$elements?_field$elements:[]];return(0,jsx_runtime.jsx)(select_control.Z,{label,value,options:elements,onChange:onChangeControl,__next40pxDefaultSize:!0,__nextHasNoMarginBottom:!0,hideLabelFromVision})}Select.displayName="Select";try{select.displayName="select",select.__docgenInfo={description:"",displayName:"select",props:{data:{defaultValue:null,description:"",name:"data",required:!0,type:{name:"Item"}},field:{defaultValue:null,description:"",name:"field",required:!0,type:{name:"NormalizedField<Item>"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!0,type:{name:"(value: Record<string, any>) => void"}},hideLabelFromVision:{defaultValue:null,description:"",name:"hideLabelFromVision",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/dataviews/src/dataform-controls/select.tsx#select"]={docgenInfo:select.__docgenInfo,name:"select",path:"packages/dataviews/src/dataform-controls/select.tsx#select"})}catch(__react_docgen_typescript_loader_error){}var text_control=__webpack_require__("./packages/components/build-module/text-control/index.js");function Text({data,field,onChange,hideLabelFromVision}){const{id,label,placeholder}=field,value=field.getValue({item:data}),onChangeControl=(0,react.useCallback)((newValue=>onChange({[id]:newValue})),[id,onChange]);return(0,jsx_runtime.jsx)(text_control.Z,{label,placeholder,value:null!=value?value:"",onChange:onChangeControl,__next40pxDefaultSize:!0,__nextHasNoMarginBottom:!0,hideLabelFromVision})}Text.displayName="Text";try{text.displayName="text",text.__docgenInfo={description:"",displayName:"text",props:{data:{defaultValue:null,description:"",name:"data",required:!0,type:{name:"Item"}},field:{defaultValue:null,description:"",name:"field",required:!0,type:{name:"NormalizedField<Item>"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!0,type:{name:"(value: Record<string, any>) => void"}},hideLabelFromVision:{defaultValue:null,description:"",name:"hideLabelFromVision",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/dataviews/src/dataform-controls/text.tsx#text"]={docgenInfo:text.__docgenInfo,name:"text",path:"packages/dataviews/src/dataform-controls/text.tsx#text"})}catch(__react_docgen_typescript_loader_error){}const FORM_CONTROLS={datetime:DateTime,integer:Integer,radio:function Radio({data,field,onChange,hideLabelFromVision}){const{id,label}=field,value=field.getValue({item:data}),onChangeControl=(0,react.useCallback)((newValue=>onChange({[id]:newValue})),[id,onChange]);return field.elements?(0,jsx_runtime.jsx)(radio_control.Z,{label,onChange:onChangeControl,options:field.elements,selected:value,hideLabelFromVision}):null},select:Select,text:Text};function getControlByType(type){if(Object.keys(FORM_CONTROLS).includes(type))return FORM_CONTROLS[type];throw"Control "+type+" not found"}try{getControlByType.displayName="getControlByType",getControlByType.__docgenInfo={description:"",displayName:"getControlByType",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/dataviews/src/dataform-controls/index.tsx#getControlByType"]={docgenInfo:getControlByType.__docgenInfo,name:"getControlByType",path:"packages/dataviews/src/dataform-controls/index.tsx#getControlByType"})}catch(__react_docgen_typescript_loader_error){}function normalizeFields(fields){return fields.map((field=>{var _field$sort,_field$isValid;const fieldTypeDefinition=function getFieldTypeDefinition(type){return"integer"===type?field_types_integer:"text"===type?field_types_text:"datetime"===type?field_types_datetime:{sort:(a,b,direction)=>"number"==typeof a&&"number"==typeof b?"asc"===direction?a-b:b-a:"asc"===direction?a.localeCompare(b):b.localeCompare(a),isValid:(value,context)=>{if(context?.elements){const validValues=context?.elements?.map((f=>f.value));if(!validValues.includes(value))return!1}return!0},Edit:()=>null}}(field.type),getValue=field.getValue||(({item})=>item[field.id]),sort=null!==(_field$sort=field.sort)&&void 0!==_field$sort?_field$sort:function sort(a,b,direction){return fieldTypeDefinition.sort(getValue({item:a}),getValue({item:b}),direction)},isValid=null!==(_field$isValid=field.isValid)&&void 0!==_field$isValid?_field$isValid:function isValid(item,context){return fieldTypeDefinition.isValid(getValue({item}),context)},Edit=function getControl(field,fieldTypeDefinition){return"function"==typeof field.Edit?field.Edit:"string"==typeof field.Edit?getControlByType(field.Edit):field.elements?getControlByType("select"):"string"==typeof fieldTypeDefinition.Edit?getControlByType(fieldTypeDefinition.Edit):fieldTypeDefinition.Edit}(field,fieldTypeDefinition),render=field.render||(field.elements?({item})=>{const value=getValue({item});return field?.elements?.find((element=>element.value===value))?.label||getValue({item})}:getValue);return{...field,label:field.label||field.id,header:field.header||field.label||field.id,getValue,render,sort,isValid,Edit}}))}},"./packages/dataviews/src/components/dataviews/stories/index.story.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Default:()=>Default,default:()=>index_story});var react=__webpack_require__("./node_modules/react/index.js"),component=__webpack_require__("./packages/components/build-module/h-stack/component.js"),build_module=__webpack_require__("./packages/i18n/build-module/index.js"),arrow_up=__webpack_require__("./packages/icons/build-module/library/arrow-up.js"),arrow_down=__webpack_require__("./packages/icons/build-module/library/arrow-down.js");const OPERATOR_IS="is",OPERATOR_IS_NOT="isNot",OPERATOR_IS_ANY="isAny",OPERATOR_IS_NONE="isNone",OPERATOR_IS_ALL="isAll",OPERATOR_IS_NOT_ALL="isNotAll",ALL_OPERATORS=[OPERATOR_IS,OPERATOR_IS_NOT,OPERATOR_IS_ANY,OPERATOR_IS_NONE,"isAll","isNotAll"],OPERATORS={[OPERATOR_IS]:{key:"is-filter",label:(0,build_module.__)("Is")},[OPERATOR_IS_NOT]:{key:"is-not-filter",label:(0,build_module.__)("Is not")},[OPERATOR_IS_ANY]:{key:"is-any-filter",label:(0,build_module.__)("Is any")},[OPERATOR_IS_NONE]:{key:"is-none-filter",label:(0,build_module.__)("Is none")},[OPERATOR_IS_ALL]:{key:"is-all-filter",label:(0,build_module.__)("Is all")},[OPERATOR_IS_NOT_ALL]:{key:"is-not-all-filter",label:(0,build_module.__)("Is not all")}},SORTING_DIRECTIONS=["asc","desc"],sortArrows={asc:"↑",desc:"↓"},sortValues={asc:"ascending",desc:"descending"},sortLabels={asc:(0,build_module.__)("Sort ascending"),desc:(0,build_module.__)("Sort descending")},sortIcons={asc:arrow_up.Z,desc:arrow_down.Z},LAYOUT_TABLE="table",LAYOUT_GRID="grid",LAYOUT_LIST="list",dataviews_context=(0,react.createContext)({view:{type:LAYOUT_TABLE},onChangeView:()=>{},fields:[],data:[],paginationInfo:{totalItems:0,totalPages:0},selection:[],onChangeSelection:()=>{},setOpenedFilter:()=>{},openedFilter:null,getItemId:item=>item.id,density:0});var build_module_button=__webpack_require__("./packages/components/build-module/button/index.js"),svg=__webpack_require__("./packages/primitives/build-module/svg/index.js"),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js");const library_funnel=(0,jsx_runtime.jsx)(svg.Wj,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,jsx_runtime.jsx)(svg.y$,{d:"M10 17.5H14V16H10V17.5ZM6 6V7.5H18V6H6ZM8 12.5H16V11H8V12.5Z"})});var clsx=__webpack_require__("./node_modules/clsx/dist/clsx.mjs"),flex_item_component=__webpack_require__("./packages/components/build-module/flex/flex-item/component.js"),select_control=__webpack_require__("./packages/components/build-module/select-control/index.js"),dropdown=__webpack_require__("./packages/components/build-module/dropdown/index.js"),tooltip=__webpack_require__("./packages/components/build-module/tooltip/index.js"),icon=__webpack_require__("./packages/components/build-module/icon/index.js"),v_stack_component=__webpack_require__("./packages/components/build-module/v-stack/component.js"),create_interpolate_element=__webpack_require__("./packages/element/build-module/create-interpolate-element.js"),close_small=__webpack_require__("./packages/icons/build-module/library/close-small.js"),DS36B3MQ=__webpack_require__("./packages/dataviews/node_modules/@ariakit/react-core/esm/__chunks/DS36B3MQ.js"),OBZMLI6J=__webpack_require__("./packages/dataviews/node_modules/@ariakit/react-core/esm/__chunks/OBZMLI6J.js"),combobox_provider=__webpack_require__("./packages/dataviews/node_modules/@ariakit/react-core/esm/combobox/combobox-provider.js"),combobox_label=__webpack_require__("./packages/dataviews/node_modules/@ariakit/react-core/esm/combobox/combobox-label.js"),combobox=__webpack_require__("./packages/dataviews/node_modules/@ariakit/react-core/esm/combobox/combobox.js"),_6ZVAPMHT=__webpack_require__("./packages/dataviews/node_modules/@ariakit/react-core/esm/__chunks/6ZVAPMHT.js"),combobox_item=__webpack_require__("./packages/dataviews/node_modules/@ariakit/react-core/esm/combobox/combobox-item.js"),combobox_item_value=__webpack_require__("./packages/dataviews/node_modules/@ariakit/react-core/esm/combobox/combobox-item-value.js"),remove_accents=__webpack_require__("./node_modules/remove-accents/index.js"),remove_accents_default=__webpack_require__.n(remove_accents),private_apis=__webpack_require__("./packages/components/build-module/private-apis.js"),visually_hidden_component=__webpack_require__("./packages/components/build-module/visually-hidden/component.js"),check=__webpack_require__("./packages/icons/build-module/library/check.js"),search=__webpack_require__("./packages/icons/build-module/library/search.js"),implementation=__webpack_require__("./packages/private-apis/build-module/implementation.js");const{lock,unlock}=(0,implementation.es)("I acknowledge private features are not for use in themes or plugins and doing so will break in the next version of WordPress.","@wordpress/dataviews"),{CompositeV2:Composite,CompositeItemV2:CompositeItem,useCompositeStoreV2:useCompositeStore}=unlock(private_apis.Y),radioCheck=(0,jsx_runtime.jsx)(svg.Wj,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,jsx_runtime.jsx)(svg.Cd,{cx:12,cy:12,r:3})});function normalizeSearchInput(input=""){return remove_accents_default()(input.trim().toLowerCase())}const EMPTY_ARRAY=[],getCurrentValue=(filterDefinition,currentFilter)=>filterDefinition.singleSelection?currentFilter?.value:Array.isArray(currentFilter?.value)?currentFilter.value:!Array.isArray(currentFilter?.value)&&currentFilter?.value?[currentFilter.value]:EMPTY_ARRAY,getNewValue=(filterDefinition,currentFilter,value)=>filterDefinition.singleSelection?value:Array.isArray(currentFilter?.value)?currentFilter.value.includes(value)?currentFilter.value.filter((v=>v!==value)):[...currentFilter.value,value]:[value];function ListBox({view,filter,onChangeView}){const compositeStore=useCompositeStore({virtualFocus:!0,focusLoop:!0,defaultActiveId:1===filter.operators?.length?void 0:null}),currentFilter=view.filters?.find((f=>f.field===filter.field)),currentValue=getCurrentValue(filter,currentFilter);return(0,jsx_runtime.jsx)(Composite,{store:compositeStore,role:"listbox",className:"dataviews-filters__search-widget-listbox","aria-label":(0,build_module.gB)((0,build_module.__)("List of: %1$s"),filter.name),onFocusVisible:()=>{compositeStore.getState().activeId||compositeStore.move(compositeStore.first())},render:(0,jsx_runtime.jsx)(DS36B3MQ.$,{store:compositeStore}),children:filter.elements.map((element=>(0,jsx_runtime.jsxs)(OBZMLI6J.N,{store:compositeStore,render:(0,jsx_runtime.jsx)(CompositeItem,{render:(0,jsx_runtime.jsx)("div",{"aria-label":element.label,role:"option",className:"dataviews-filters__search-widget-listitem"}),onClick:()=>{var _view$filters,_view$filters2;const newFilters=currentFilter?[...(null!==(_view$filters=view.filters)&&void 0!==_view$filters?_view$filters:[]).map((_filter=>_filter.field===filter.field?{..._filter,operator:currentFilter.operator||filter.operators[0],value:getNewValue(filter,currentFilter,element.value)}:_filter))]:[...null!==(_view$filters2=view.filters)&&void 0!==_view$filters2?_view$filters2:[],{field:filter.field,operator:filter.operators[0],value:getNewValue(filter,currentFilter,element.value)}];onChangeView({...view,page:1,filters:newFilters})}}),children:[(0,jsx_runtime.jsxs)("span",{className:"dataviews-filters__search-widget-listitem-check",children:[filter.singleSelection&&currentValue===element.value&&(0,jsx_runtime.jsx)(icon.Z,{icon:radioCheck}),!filter.singleSelection&&currentValue.includes(element.value)&&(0,jsx_runtime.jsx)(icon.Z,{icon:check.Z})]}),(0,jsx_runtime.jsx)("span",{children:element.label})]},element.value)))})}function ComboboxList({view,filter,onChangeView}){const[searchValue,setSearchValue]=(0,react.useState)(""),deferredSearchValue=(0,react.useDeferredValue)(searchValue),currentFilter=view.filters?.find((_filter=>_filter.field===filter.field)),currentValue=getCurrentValue(filter,currentFilter),matches=(0,react.useMemo)((()=>{const normalizedSearch=normalizeSearchInput(deferredSearchValue);return filter.elements.filter((item=>normalizeSearchInput(item.label).includes(normalizedSearch)))}),[filter.elements,deferredSearchValue]);return(0,jsx_runtime.jsxs)(combobox_provider.e,{selectedValue:currentValue,setSelectedValue:value=>{var _view$filters3,_view$filters4;const newFilters=currentFilter?[...(null!==(_view$filters3=view.filters)&&void 0!==_view$filters3?_view$filters3:[]).map((_filter=>_filter.field===filter.field?{..._filter,operator:currentFilter.operator||filter.operators[0],value}:_filter))]:[...null!==(_view$filters4=view.filters)&&void 0!==_view$filters4?_view$filters4:[],{field:filter.field,operator:filter.operators[0],value}];onChangeView({...view,page:1,filters:newFilters})},setValue:setSearchValue,children:[(0,jsx_runtime.jsxs)("div",{className:"dataviews-filters__search-widget-filter-combobox__wrapper",children:[(0,jsx_runtime.jsx)(combobox_label.N,{render:(0,jsx_runtime.jsx)(visually_hidden_component.Z,{children:(0,build_module.__)("Search items")}),children:(0,build_module.__)("Search items")}),(0,jsx_runtime.jsx)(combobox.h,{autoSelect:"always",placeholder:(0,build_module.__)("Search"),className:"dataviews-filters__search-widget-filter-combobox__input"}),(0,jsx_runtime.jsx)("div",{className:"dataviews-filters__search-widget-filter-combobox__icon",children:(0,jsx_runtime.jsx)(icon.Z,{icon:search.Z})})]}),(0,jsx_runtime.jsxs)(_6ZVAPMHT.G,{className:"dataviews-filters__search-widget-filter-combobox-list",alwaysVisible:!0,children:[matches.map((element=>(0,jsx_runtime.jsxs)(combobox_item.l,{resetValueOnSelect:!1,value:element.value,className:"dataviews-filters__search-widget-listitem",hideOnClick:!1,setValueOnClick:!1,focusOnHover:!0,children:[(0,jsx_runtime.jsxs)("span",{className:"dataviews-filters__search-widget-listitem-check",children:[filter.singleSelection&&currentValue===element.value&&(0,jsx_runtime.jsx)(icon.Z,{icon:radioCheck}),!filter.singleSelection&&currentValue.includes(element.value)&&(0,jsx_runtime.jsx)(icon.Z,{icon:check.Z})]}),(0,jsx_runtime.jsxs)("span",{children:[(0,jsx_runtime.jsx)(combobox_item_value.X,{className:"dataviews-filters__search-widget-filter-combobox-item-value",value:element.label}),!!element.description&&(0,jsx_runtime.jsx)("span",{className:"dataviews-filters__search-widget-listitem-description",children:element.description})]})]},element.value))),!matches.length&&(0,jsx_runtime.jsx)("p",{children:(0,build_module.__)("No results found")})]})]})}function SearchWidget(props){const Widget=props.filter.elements.length>10?ComboboxList:ListBox;return(0,jsx_runtime.jsx)(Widget,{...props})}ListBox.displayName="ListBox",ComboboxList.displayName="ComboboxList",SearchWidget.displayName="SearchWidget";try{searchwidget.displayName="searchwidget",searchwidget.__docgenInfo={description:"",displayName:"searchwidget",props:{view:{defaultValue:null,description:"",name:"view",required:!0,type:{name:"View"}},filter:{defaultValue:null,description:"",name:"filter",required:!0,type:{name:"NormalizedFilter"}},onChangeView:{defaultValue:null,description:"",name:"onChangeView",required:!0,type:{name:"(view: View) => void"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/dataviews/src/components/dataviews-filters/search-widget.tsx#searchwidget"]={docgenInfo:searchwidget.__docgenInfo,name:"searchwidget",path:"packages/dataviews/src/components/dataviews-filters/search-widget.tsx#searchwidget"})}catch(__react_docgen_typescript_loader_error){}const ENTER="Enter",SPACE=" ",FilterText=({activeElements,filterInView,filter})=>{if(void 0===activeElements||0===activeElements.length)return filter.name;const filterTextWrappers={Name:(0,jsx_runtime.jsx)("span",{className:"dataviews-filters__summary-filter-text-name"}),Value:(0,jsx_runtime.jsx)("span",{className:"dataviews-filters__summary-filter-text-value"})};return filterInView?.operator===OPERATOR_IS_ANY?(0,create_interpolate_element.Z)((0,build_module.gB)((0,build_module.__)("<Name>%1$s is any: </Name><Value>%2$s</Value>"),filter.name,activeElements.map((element=>element.label)).join(", ")),filterTextWrappers):filterInView?.operator===OPERATOR_IS_NONE?(0,create_interpolate_element.Z)((0,build_module.gB)((0,build_module.__)("<Name>%1$s is none: </Name><Value>%2$s</Value>"),filter.name,activeElements.map((element=>element.label)).join(", ")),filterTextWrappers):"isAll"===filterInView?.operator?(0,create_interpolate_element.Z)((0,build_module.gB)((0,build_module.__)("<Name>%1$s is all: </Name><Value>%2$s</Value>"),filter.name,activeElements.map((element=>element.label)).join(", ")),filterTextWrappers):"isNotAll"===filterInView?.operator?(0,create_interpolate_element.Z)((0,build_module.gB)((0,build_module.__)("<Name>%1$s is not all: </Name><Value>%2$s</Value>"),filter.name,activeElements.map((element=>element.label)).join(", ")),filterTextWrappers):filterInView?.operator===OPERATOR_IS?(0,create_interpolate_element.Z)((0,build_module.gB)((0,build_module.__)("<Name>%1$s is: </Name><Value>%2$s</Value>"),filter.name,activeElements[0].label),filterTextWrappers):filterInView?.operator===OPERATOR_IS_NOT?(0,create_interpolate_element.Z)((0,build_module.gB)((0,build_module.__)("<Name>%1$s is not: </Name><Value>%2$s</Value>"),filter.name,activeElements[0].label),filterTextWrappers):(0,build_module.gB)((0,build_module.__)("Unknown status for %1$s"),filter.name)};function OperatorSelector({filter,view,onChangeView}){const operatorOptions=filter.operators?.map((operator=>({value:operator,label:OPERATORS[operator]?.label}))),currentFilter=view.filters?.find((_filter=>_filter.field===filter.field)),value=currentFilter?.operator||filter.operators[0];return operatorOptions.length>1&&(0,jsx_runtime.jsxs)(component.Z,{spacing:2,justify:"flex-start",className:"dataviews-filters__summary-operators-container",children:[(0,jsx_runtime.jsx)(flex_item_component.Z,{className:"dataviews-filters__summary-operators-filter-name",children:filter.name}),(0,jsx_runtime.jsx)(select_control.Z,{label:(0,build_module.__)("Conditions"),value,options:operatorOptions,onChange:newValue=>{var _view$filters,_view$filters2;const operator=newValue,newFilters=currentFilter?[...(null!==(_view$filters=view.filters)&&void 0!==_view$filters?_view$filters:[]).map((_filter=>_filter.field===filter.field?{..._filter,operator}:_filter))]:[...null!==(_view$filters2=view.filters)&&void 0!==_view$filters2?_view$filters2:[],{field:filter.field,operator,value:void 0}];onChangeView({...view,page:1,filters:newFilters})},size:"small",__nextHasNoMarginBottom:!0,hideLabelFromVision:!0})]})}function FilterSummary({addFilterRef,openedFilter,...commonProps}){const toggleRef=(0,react.useRef)(null),{filter,view,onChangeView}=commonProps,filterInView=view.filters?.find((f=>f.field===filter.field)),activeElements=filter.elements.filter((element=>filter.singleSelection?element.value===filterInView?.value:filterInView?.value?.includes(element.value))),isPrimary=filter.isPrimary,hasValues=void 0!==filterInView?.value,canResetOrRemove=!isPrimary||hasValues;return(0,jsx_runtime.jsx)(dropdown.Z,{defaultOpen:openedFilter===filter.field,contentClassName:"dataviews-filters__summary-popover",popoverProps:{placement:"bottom-start",role:"dialog"},onClose:()=>{toggleRef.current?.focus()},renderToggle:({isOpen,onToggle})=>(0,jsx_runtime.jsxs)("div",{className:"dataviews-filters__summary-chip-container",children:[(0,jsx_runtime.jsx)(tooltip.ZP,{text:(0,build_module.gB)((0,build_module.__)("Filter by: %1$s"),filter.name.toLowerCase()),placement:"top",children:(0,jsx_runtime.jsx)("div",{className:(0,clsx.Z)("dataviews-filters__summary-chip",{"has-reset":canResetOrRemove,"has-values":hasValues}),role:"button",tabIndex:0,onClick:onToggle,onKeyDown:event=>{[ENTER,SPACE].includes(event.key)&&(onToggle(),event.preventDefault())},"aria-pressed":isOpen,"aria-expanded":isOpen,ref:toggleRef,children:(0,jsx_runtime.jsx)(FilterText,{activeElements,filterInView,filter})})}),canResetOrRemove&&(0,jsx_runtime.jsx)(tooltip.ZP,{text:isPrimary?(0,build_module.__)("Reset"):(0,build_module.__)("Remove"),placement:"top",children:(0,jsx_runtime.jsx)("button",{className:(0,clsx.Z)("dataviews-filters__summary-chip-remove",{"has-values":hasValues}),onClick:()=>{onChangeView({...view,page:1,filters:view.filters?.filter((_filter=>_filter.field!==filter.field))}),isPrimary?toggleRef.current?.focus():addFilterRef.current?.focus()},children:(0,jsx_runtime.jsx)(icon.Z,{icon:close_small.Z})})})]}),renderContent:()=>(0,jsx_runtime.jsxs)(v_stack_component.Z,{spacing:0,justify:"flex-start",children:[(0,jsx_runtime.jsx)(OperatorSelector,{...commonProps}),(0,jsx_runtime.jsx)(SearchWidget,{...commonProps})]})})}FilterSummary.displayName="FilterSummary";try{filtersummary.displayName="filtersummary",filtersummary.__docgenInfo={description:"",displayName:"filtersummary",props:{addFilterRef:{defaultValue:null,description:"",name:"addFilterRef",required:!0,type:{name:"RefObject<HTMLButtonElement>"}},openedFilter:{defaultValue:null,description:"",name:"openedFilter",required:!0,type:{name:"string"}},filter:{defaultValue:null,description:"",name:"filter",required:!0,type:{name:"NormalizedFilter"}},view:{defaultValue:null,description:"",name:"view",required:!0,type:{name:"View"}},onChangeView:{defaultValue:null,description:"",name:"onChangeView",required:!0,type:{name:"(view: View) => void"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/dataviews/src/components/dataviews-filters/filter-summary.tsx#filtersummary"]={docgenInfo:filtersummary.__docgenInfo,name:"filtersummary",path:"packages/dataviews/src/components/dataviews-filters/filter-summary.tsx#filtersummary"})}catch(__react_docgen_typescript_loader_error){}const{DropdownMenuV2}=unlock(private_apis.Y);function AddFilterDropdownMenu({filters,view,onChangeView,setOpenedFilter,trigger}){const inactiveFilters=filters.filter((filter=>!filter.isVisible));return(0,jsx_runtime.jsx)(DropdownMenuV2,{trigger,children:inactiveFilters.map((filter=>(0,jsx_runtime.jsx)(DropdownMenuV2.Item,{onClick:()=>{setOpenedFilter(filter.field),onChangeView({...view,page:1,filters:[...view.filters||[],{field:filter.field,value:void 0,operator:filter.operators[0]}]})},children:(0,jsx_runtime.jsx)(DropdownMenuV2.ItemLabel,{children:filter.name})},filter.field)))})}function AddFilter({filters,view,onChangeView,setOpenedFilter},ref){if(!filters.length||filters.every((({isPrimary})=>isPrimary)))return null;const inactiveFilters=filters.filter((filter=>!filter.isVisible));return(0,jsx_runtime.jsx)(AddFilterDropdownMenu,{trigger:(0,jsx_runtime.jsx)(build_module_button.ZP,{accessibleWhenDisabled:!0,size:"compact",className:"dataviews-filters-button",variant:"tertiary",disabled:!inactiveFilters.length,ref,children:(0,build_module.__)("Add filter")}),filters,view,onChangeView,setOpenedFilter})}AddFilterDropdownMenu.displayName="AddFilterDropdownMenu",AddFilter.displayName="AddFilter";const add_filter=(0,react.forwardRef)(AddFilter);try{AddFilterDropdownMenu.displayName="AddFilterDropdownMenu",AddFilterDropdownMenu.__docgenInfo={description:"",displayName:"AddFilterDropdownMenu",props:{filters:{defaultValue:null,description:"",name:"filters",required:!0,type:{name:"NormalizedFilter[]"}},view:{defaultValue:null,description:"",name:"view",required:!0,type:{name:"View"}},onChangeView:{defaultValue:null,description:"",name:"onChangeView",required:!0,type:{name:"(view: View) => void"}},setOpenedFilter:{defaultValue:null,description:"",name:"setOpenedFilter",required:!0,type:{name:"(filter: string) => void"}},trigger:{defaultValue:null,description:"",name:"trigger",required:!0,type:{name:"ReactNode"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/dataviews/src/components/dataviews-filters/add-filter.tsx#AddFilterDropdownMenu"]={docgenInfo:AddFilterDropdownMenu.__docgenInfo,name:"AddFilterDropdownMenu",path:"packages/dataviews/src/components/dataviews-filters/add-filter.tsx#AddFilterDropdownMenu"})}catch(__react_docgen_typescript_loader_error){}function ResetFilter({filters,view,onChangeView}){const isDisabled=!view.search&&!view.filters?.some((_filter=>{return void 0!==_filter.value||(field=_filter.field,!filters.some((_filter=>_filter.field===field&&_filter.isPrimary)));var field}));return(0,jsx_runtime.jsx)(build_module_button.ZP,{disabled:isDisabled,accessibleWhenDisabled:!0,size:"compact",variant:"tertiary",className:"dataviews-filters__reset-button",onClick:()=>{onChangeView({...view,page:1,search:"",filters:[]})},children:(0,build_module.__)("Reset")})}ResetFilter.displayName="ResetFilter";try{resetfilters.displayName="resetfilters",resetfilters.__docgenInfo={description:"",displayName:"resetfilters",props:{filters:{defaultValue:null,description:"",name:"filters",required:!0,type:{name:"NormalizedFilter[]"}},view:{defaultValue:null,description:"",name:"view",required:!0,type:{name:"View"}},onChangeView:{defaultValue:null,description:"",name:"onChangeView",required:!0,type:{name:"(view: View) => void"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/dataviews/src/components/dataviews-filters/reset-filters.tsx#resetfilters"]={docgenInfo:resetfilters.__docgenInfo,name:"resetfilters",path:"packages/dataviews/src/components/dataviews-filters/reset-filters.tsx#resetfilters"})}catch(__react_docgen_typescript_loader_error){}function sanitizeOperators(field){let operators=field.filterBy?.operators;return operators&&Array.isArray(operators)||(operators=[OPERATOR_IS_ANY,OPERATOR_IS_NONE]),operators=operators.filter((operator=>ALL_OPERATORS.includes(operator))),(operators.includes(OPERATOR_IS)||operators.includes(OPERATOR_IS_NOT))&&(operators=operators.filter((operator=>[OPERATOR_IS,OPERATOR_IS_NOT].includes(operator)))),operators}function useFilters(fields,view){return(0,react.useMemo)((()=>{const filters=[];return fields.forEach((field=>{if(!field.elements?.length)return;const operators=sanitizeOperators(field);if(0===operators.length)return;const isPrimary=!!field.filterBy?.isPrimary;filters.push({field:field.id,name:field.label,elements:field.elements,singleSelection:operators.some((op=>[OPERATOR_IS,OPERATOR_IS_NOT].includes(op))),operators,isVisible:isPrimary||!!view.filters?.some((f=>f.field===field.id&&ALL_OPERATORS.includes(f.operator))),isPrimary})})),filters.sort(((a,b)=>a.isPrimary&&!b.isPrimary?-1:!a.isPrimary&&b.isPrimary?1:a.name.localeCompare(b.name))),filters}),[fields,view])}function FilterVisibilityToggle({filters,view,onChangeView,setOpenedFilter,isShowingFilter,setIsShowingFilter}){const onChangeViewWithFilterVisibility=(0,react.useCallback)((_view=>{onChangeView(_view),setIsShowingFilter(!0)}),[onChangeView,setIsShowingFilter]),hasVisibleFilters=!!filters.filter((filter=>filter.isVisible)).length;return 0===filters.length?null:hasVisibleFilters?(0,jsx_runtime.jsxs)("div",{className:"dataviews-filters__container-visibility-toggle",children:[(0,jsx_runtime.jsx)(build_module_button.ZP,{className:"dataviews-filters__visibility-toggle",size:"compact",icon:library_funnel,label:(0,build_module.__)("Toggle filter display"),onClick:()=>{isShowingFilter||setOpenedFilter(null),setIsShowingFilter(!isShowingFilter)},isPressed:isShowingFilter,"aria-expanded":isShowingFilter}),hasVisibleFilters&&!!view.filters?.length&&(0,jsx_runtime.jsx)("span",{className:"dataviews-filters-toggle__count",children:view.filters?.length})]}):(0,jsx_runtime.jsx)(AddFilterDropdownMenu,{filters,view,onChangeView:onChangeViewWithFilterVisibility,setOpenedFilter,trigger:(0,jsx_runtime.jsx)(build_module_button.ZP,{className:"dataviews-filters__visibility-toggle",size:"compact",icon:library_funnel,label:(0,build_module.__)("Add filter"),isPressed:!1,"aria-expanded":!1})})}function Filters(){const{fields,view,onChangeView,openedFilter,setOpenedFilter}=(0,react.useContext)(dataviews_context),addFilterRef=(0,react.useRef)(null),filters=useFilters(fields,view),addFilter=(0,jsx_runtime.jsx)(add_filter,{filters,view,onChangeView,ref:addFilterRef,setOpenedFilter},"add-filter"),visibleFilters=filters.filter((filter=>filter.isVisible));if(0===visibleFilters.length)return null;const filterComponents=[...visibleFilters.map((filter=>(0,jsx_runtime.jsx)(FilterSummary,{filter,view,onChangeView,addFilterRef,openedFilter},filter.field))),addFilter];return filterComponents.push((0,jsx_runtime.jsx)(ResetFilter,{filters,view,onChangeView},"reset-filters")),(0,jsx_runtime.jsx)(component.Z,{justify:"flex-start",style:{width:"fit-content"},className:"dataviews-filters__container",wrap:!0,children:filterComponents})}FilterVisibilityToggle.displayName="FilterVisibilityToggle",Filters.displayName="Filters";const dataviews_filters=(0,react.memo)(Filters);try{FilterVisibilityToggle.displayName="FilterVisibilityToggle",FilterVisibilityToggle.__docgenInfo={description:"",displayName:"FilterVisibilityToggle",props:{filters:{defaultValue:null,description:"",name:"filters",required:!0,type:{name:"NormalizedFilter[]"}},view:{defaultValue:null,description:"",name:"view",required:!0,type:{name:"View"}},onChangeView:{defaultValue:null,description:"",name:"onChangeView",required:!0,type:{name:"(view: View) => void"}},setOpenedFilter:{defaultValue:null,description:"",name:"setOpenedFilter",required:!0,type:{name:"(filter: string) => void"}},isShowingFilter:{defaultValue:null,description:"",name:"isShowingFilter",required:!0,type:{name:"boolean"}},setIsShowingFilter:{defaultValue:null,description:"",name:"setIsShowingFilter",required:!0,type:{name:"Dispatch<SetStateAction<boolean>>"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/dataviews/src/components/dataviews-filters/index.tsx#FilterVisibilityToggle"]={docgenInfo:FilterVisibilityToggle.__docgenInfo,name:"FilterVisibilityToggle",path:"packages/dataviews/src/components/dataviews-filters/index.tsx#FilterVisibilityToggle"})}catch(__react_docgen_typescript_loader_error){}var block_table=__webpack_require__("./packages/icons/build-module/library/block-table.js"),category=__webpack_require__("./packages/icons/build-module/library/category.js"),format_list_bullets_rtl=__webpack_require__("./packages/icons/build-module/library/format-list-bullets-rtl.js"),format_list_bullets=__webpack_require__("./packages/icons/build-module/library/format-list-bullets.js"),spinner=__webpack_require__("./packages/components/build-module/spinner/index.js"),checkbox_control=__webpack_require__("./packages/components/build-module/checkbox-control/index.js");function DataViewsSelectionCheckbox({selection,onChangeSelection,item,getItemId,primaryField,disabled}){const id=getItemId(item),checked=!disabled&&selection.includes(id);let selectionLabel;return selectionLabel=primaryField?.getValue&&item?(0,build_module.gB)(checked?(0,build_module.__)("Deselect item: %s"):(0,build_module.__)("Select item: %s"),primaryField.getValue({item})):checked?(0,build_module.__)("Select a new item"):(0,build_module.__)("Deselect item"),(0,jsx_runtime.jsx)(checkbox_control.C,{className:"dataviews-selection-checkbox",__nextHasNoMarginBottom:!0,"aria-label":selectionLabel,"aria-disabled":disabled,checked,onChange:()=>{disabled||onChangeSelection(selection.includes(id)?selection.filter((itemId=>id!==itemId)):[...selection,id])}})}DataViewsSelectionCheckbox.displayName="DataViewsSelectionCheckbox";try{dataviewsselectioncheckbox.displayName="dataviewsselectioncheckbox",dataviewsselectioncheckbox.__docgenInfo={description:"",displayName:"dataviewsselectioncheckbox",props:{selection:{defaultValue:null,description:"",name:"selection",required:!0,type:{name:"string[]"}},onChangeSelection:{defaultValue:null,description:"",name:"onChangeSelection",required:!0,type:{name:"SetSelection"}},item:{defaultValue:null,description:"",name:"item",required:!0,type:{name:"Item"}},getItemId:{defaultValue:null,description:"",name:"getItemId",required:!0,type:{name:"(item: Item) => string"}},primaryField:{defaultValue:null,description:"",name:"primaryField",required:!1,type:{name:"Field<Item>"}},disabled:{defaultValue:null,description:"",name:"disabled",required:!0,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/dataviews/src/components/dataviews-selection-checkbox/index.tsx#dataviewsselectioncheckbox"]={docgenInfo:dataviewsselectioncheckbox.__docgenInfo,name:"dataviewsselectioncheckbox",path:"packages/dataviews/src/components/dataviews-selection-checkbox/index.tsx#dataviewsselectioncheckbox"})}catch(__react_docgen_typescript_loader_error){}var modal=__webpack_require__("./packages/components/build-module/modal/index.js"),more_vertical=__webpack_require__("./packages/icons/build-module/library/more-vertical.js"),use_registry=__webpack_require__("./packages/data/build-module/components/registry-provider/use-registry.js");const{DropdownMenuV2:dataviews_item_actions_DropdownMenuV2,kebabCase}=unlock(private_apis.Y);function ButtonTrigger({action,onClick,items}){const label="string"==typeof action.label?action.label:action.label(items);return(0,jsx_runtime.jsx)(build_module_button.ZP,{label,icon:action.icon,isDestructive:action.isDestructive,size:"compact",onClick})}function DropdownMenuItemTrigger({action,onClick,items}){const label="string"==typeof action.label?action.label:action.label(items);return(0,jsx_runtime.jsx)(dataviews_item_actions_DropdownMenuV2.Item,{onClick,hideOnClick:!("RenderModal"in action),children:(0,jsx_runtime.jsx)(dataviews_item_actions_DropdownMenuV2.ItemLabel,{children:label})})}function ActionModal({action,items,closeModal}){const label="string"==typeof action.label?action.label:action.label(items);return(0,jsx_runtime.jsx)(modal.Z,{title:action.modalHeader||label,__experimentalHideHeader:!!action.hideModalHeader,onRequestClose:null!=closeModal?closeModal:()=>{},focusOnMount:"firstContentElement",size:"small",overlayClassName:`dataviews-action-modal dataviews-action-modal__${kebabCase(action.id)}`,children:(0,jsx_runtime.jsx)(action.RenderModal,{items,closeModal})})}function ActionWithModal({action,items,ActionTrigger,isBusy}){const[isModalOpen,setIsModalOpen]=(0,react.useState)(!1),actionTriggerProps={action,onClick:()=>{setIsModalOpen(!0)},items,isBusy};return(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)(ActionTrigger,{...actionTriggerProps}),isModalOpen&&(0,jsx_runtime.jsx)(ActionModal,{action,items,closeModal:()=>setIsModalOpen(!1)})]})}function ActionsDropdownMenuGroup({actions,item}){const registry=(0,use_registry.Z)();return(0,jsx_runtime.jsx)(dataviews_item_actions_DropdownMenuV2.Group,{children:actions.map((action=>"RenderModal"in action?(0,jsx_runtime.jsx)(ActionWithModal,{action,items:[item],ActionTrigger:DropdownMenuItemTrigger},action.id):(0,jsx_runtime.jsx)(DropdownMenuItemTrigger,{action,onClick:()=>{action.callback([item],{registry})},items:[item]},action.id)))})}function ItemActions({item,actions,isCompact}){const registry=(0,use_registry.Z)(),{primaryActions,eligibleActions}=(0,react.useMemo)((()=>{const _eligibleActions=actions.filter((action=>!action.isEligible||action.isEligible(item)));return{primaryActions:_eligibleActions.filter((action=>action.isPrimary&&!!action.icon)),eligibleActions:_eligibleActions}}),[actions,item]);return isCompact?(0,jsx_runtime.jsx)(CompactItemActions,{item,actions:eligibleActions}):(0,jsx_runtime.jsxs)(component.Z,{spacing:1,justify:"flex-end",className:"dataviews-item-actions",style:{flexShrink:"0",width:"auto"},children:[!!primaryActions.length&&primaryActions.map((action=>"RenderModal"in action?(0,jsx_runtime.jsx)(ActionWithModal,{action,items:[item],ActionTrigger:ButtonTrigger},action.id):(0,jsx_runtime.jsx)(ButtonTrigger,{action,onClick:()=>{action.callback([item],{registry})},items:[item]},action.id))),(0,jsx_runtime.jsx)(CompactItemActions,{item,actions:eligibleActions})]})}function CompactItemActions({item,actions}){return(0,jsx_runtime.jsx)(dataviews_item_actions_DropdownMenuV2,{trigger:(0,jsx_runtime.jsx)(build_module_button.ZP,{size:"compact",icon:more_vertical.Z,label:(0,build_module.__)("Actions"),accessibleWhenDisabled:!0,disabled:!actions.length,className:"dataviews-all-actions-button"}),placement:"bottom-end",children:(0,jsx_runtime.jsx)(ActionsDropdownMenuGroup,{actions,item})})}ButtonTrigger.displayName="ButtonTrigger",DropdownMenuItemTrigger.displayName="DropdownMenuItemTrigger",ActionModal.displayName="ActionModal",ActionsDropdownMenuGroup.displayName="ActionsDropdownMenuGroup",ItemActions.displayName="ItemActions",CompactItemActions.displayName="CompactItemActions";try{ActionModal.displayName="ActionModal",ActionModal.__docgenInfo={description:"",displayName:"ActionModal",props:{action:{defaultValue:null,description:"",name:"action",required:!0,type:{name:"ActionModal<Item>"}},items:{defaultValue:null,description:"",name:"items",required:!0,type:{name:"Item[]"}},closeModal:{defaultValue:null,description:"",name:"closeModal",required:!1,type:{name:"() => void"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/dataviews/src/components/dataviews-item-actions/index.tsx#ActionModal"]={docgenInfo:ActionModal.__docgenInfo,name:"ActionModal",path:"packages/dataviews/src/components/dataviews-item-actions/index.tsx#ActionModal"})}catch(__react_docgen_typescript_loader_error){}try{ActionWithModal.displayName="ActionWithModal",ActionWithModal.__docgenInfo={description:"",displayName:"ActionWithModal",props:{ActionTrigger:{defaultValue:null,description:"",name:"ActionTrigger",required:!0,type:{name:"(props: ActionTriggerProps<Item>) => ReactElement<any, string | JSXElementConstructor<any>>"}},isBusy:{defaultValue:null,description:"",name:"isBusy",required:!1,type:{name:"boolean"}},action:{defaultValue:null,description:"",name:"action",required:!0,type:{name:"ActionModal<Item>"}},items:{defaultValue:null,description:"",name:"items",required:!0,type:{name:"Item[]"}},closeModal:{defaultValue:null,description:"",name:"closeModal",required:!1,type:{name:"() => void"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/dataviews/src/components/dataviews-item-actions/index.tsx#ActionWithModal"]={docgenInfo:ActionWithModal.__docgenInfo,name:"ActionWithModal",path:"packages/dataviews/src/components/dataviews-item-actions/index.tsx#ActionWithModal"})}catch(__react_docgen_typescript_loader_error){}try{ActionsDropdownMenuGroup.displayName="ActionsDropdownMenuGroup",ActionsDropdownMenuGroup.__docgenInfo={description:"",displayName:"ActionsDropdownMenuGroup",props:{actions:{defaultValue:null,description:"",name:"actions",required:!0,type:{name:"Action<Item>[]"}},item:{defaultValue:null,description:"",name:"item",required:!0,type:{name:"Item"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/dataviews/src/components/dataviews-item-actions/index.tsx#ActionsDropdownMenuGroup"]={docgenInfo:ActionsDropdownMenuGroup.__docgenInfo,name:"ActionsDropdownMenuGroup",path:"packages/dataviews/src/components/dataviews-item-actions/index.tsx#ActionsDropdownMenuGroup"})}catch(__react_docgen_typescript_loader_error){}try{dataviewsitemactions.displayName="dataviewsitemactions",dataviewsitemactions.__docgenInfo={description:"",displayName:"dataviewsitemactions",props:{item:{defaultValue:null,description:"",name:"item",required:!0,type:{name:"Item"}},actions:{defaultValue:null,description:"",name:"actions",required:!0,type:{name:"Action<Item>[]"}},isCompact:{defaultValue:null,description:"",name:"isCompact",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/dataviews/src/components/dataviews-item-actions/index.tsx#dataviewsitemactions"]={docgenInfo:dataviewsitemactions.__docgenInfo,name:"dataviewsitemactions",path:"packages/dataviews/src/components/dataviews-item-actions/index.tsx#dataviewsitemactions"})}catch(__react_docgen_typescript_loader_error){}function useHasAPossibleBulkAction(actions,item){return(0,react.useMemo)((()=>actions.some((action=>action.supportsBulk&&(!action.isEligible||action.isEligible(item))))),[actions,item])}function useSomeItemHasAPossibleBulkAction(actions,data){return(0,react.useMemo)((()=>data.some((item=>actions.some((action=>action.supportsBulk&&(!action.isEligible||action.isEligible(item))))))),[actions,data])}function BulkSelectionCheckbox({selection,onChangeSelection,data,actions,getItemId}){const selectableItems=(0,react.useMemo)((()=>data.filter((item=>actions.some((action=>action.supportsBulk&&(!action.isEligible||action.isEligible(item))))))),[data,actions]),selectedItems=data.filter((item=>selection.includes(getItemId(item))&&selectableItems.includes(item))),areAllSelected=selectedItems.length===selectableItems.length;return(0,jsx_runtime.jsx)(checkbox_control.C,{className:"dataviews-view-table-selection-checkbox",__nextHasNoMarginBottom:!0,checked:areAllSelected,indeterminate:!areAllSelected&&!!selectedItems.length,onChange:()=>{onChangeSelection(areAllSelected?[]:selectableItems.map((item=>getItemId(item))))},"aria-label":areAllSelected?(0,build_module.__)("Deselect all"):(0,build_module.__)("Select all")})}function ActionTrigger({action,onClick,isBusy,items}){const label="string"==typeof action.label?action.label:action.label(items);return(0,jsx_runtime.jsx)(build_module_button.ZP,{disabled:isBusy,accessibleWhenDisabled:!0,label,icon:action.icon,isDestructive:action.isDestructive,size:"compact",onClick,isBusy,tooltipPosition:"top"})}BulkSelectionCheckbox.displayName="BulkSelectionCheckbox",ActionTrigger.displayName="ActionTrigger";const dataviews_bulk_actions_EMPTY_ARRAY=[];function ActionButton({action,selectedItems,actionInProgress,setActionInProgress}){const registry=(0,use_registry.Z)(),selectedEligibleItems=(0,react.useMemo)((()=>selectedItems.filter((item=>!action.isEligible||action.isEligible(item)))),[action,selectedItems]);return"RenderModal"in action?(0,jsx_runtime.jsx)(ActionWithModal,{action,items:selectedEligibleItems,ActionTrigger},action.id):(0,jsx_runtime.jsx)(ActionTrigger,{action,onClick:async()=>{setActionInProgress(action.id),await action.callback(selectedItems,{registry}),setActionInProgress(null)},items:selectedEligibleItems,isBusy:actionInProgress===action.id},action.id)}function renderFooterContent(data,actions,getItemId,selection,actionsToShow,selectedItems,actionInProgress,setActionInProgress,onChangeSelection){const message=selectedItems.length>0?(0,build_module.gB)((0,build_module._n)("%d Item selected","%d Items selected",selectedItems.length),selectedItems.length):(0,build_module.gB)((0,build_module._n)("%d Item","%d Items",data.length),data.length);return(0,jsx_runtime.jsxs)(component.Z,{expanded:!1,className:"dataviews-bulk-actions-footer__container",spacing:3,children:[(0,jsx_runtime.jsx)(BulkSelectionCheckbox,{selection,onChangeSelection,data,actions,getItemId}),(0,jsx_runtime.jsx)("span",{className:"dataviews-bulk-actions-footer__item-count",children:message}),(0,jsx_runtime.jsxs)(component.Z,{className:"dataviews-bulk-actions-footer__action-buttons",expanded:!1,spacing:1,children:[actionsToShow.map((action=>(0,jsx_runtime.jsx)(ActionButton,{action,selectedItems,actionInProgress,setActionInProgress},action.id))),selectedItems.length>0&&(0,jsx_runtime.jsx)(build_module_button.ZP,{icon:close_small.Z,showTooltip:!0,tooltipPosition:"top",size:"compact",label:(0,build_module.__)("Cancel"),disabled:!!actionInProgress,accessibleWhenDisabled:!1,onClick:()=>{onChangeSelection(dataviews_bulk_actions_EMPTY_ARRAY)}})]})]})}function FooterContent({selection,actions,onChangeSelection,data,getItemId}){const[actionInProgress,setActionInProgress]=(0,react.useState)(null),footerContent=(0,react.useRef)(null),bulkActions=(0,react.useMemo)((()=>actions.filter((action=>action.supportsBulk))),[actions]),selectableItems=(0,react.useMemo)((()=>data.filter((item=>bulkActions.some((action=>!action.isEligible||action.isEligible(item)))))),[data,bulkActions]),selectedItems=(0,react.useMemo)((()=>data.filter((item=>selection.includes(getItemId(item))&&selectableItems.includes(item)))),[selection,data,getItemId,selectableItems]),actionsToShow=(0,react.useMemo)((()=>actions.filter((action=>action.supportsBulk&&action.icon&&selectedItems.some((item=>!action.isEligible||action.isEligible(item)))))),[actions,selectedItems]);return actionInProgress?(footerContent.current||(footerContent.current=renderFooterContent(data,actions,getItemId,selection,actionsToShow,selectedItems,actionInProgress,setActionInProgress,onChangeSelection)),footerContent.current):(footerContent.current&&(footerContent.current=null),renderFooterContent(data,actions,getItemId,selection,actionsToShow,selectedItems,actionInProgress,setActionInProgress,onChangeSelection))}function BulkActionsFooter(){const{data,selection,actions=dataviews_bulk_actions_EMPTY_ARRAY,onChangeSelection,getItemId}=(0,react.useContext)(dataviews_context);return(0,jsx_runtime.jsx)(FooterContent,{selection,onChangeSelection,data,actions,getItemId})}ActionButton.displayName="ActionButton",renderFooterContent.displayName="renderFooterContent",BulkActionsFooter.displayName="BulkActionsFooter";try{BulkSelectionCheckbox.displayName="BulkSelectionCheckbox",BulkSelectionCheckbox.__docgenInfo={description:"",displayName:"BulkSelectionCheckbox",props:{selection:{defaultValue:null,description:"",name:"selection",required:!0,type:{name:"string[]"}},onChangeSelection:{defaultValue:null,description:"",name:"onChangeSelection",required:!0,type:{name:"SetSelection"}},data:{defaultValue:null,description:"",name:"data",required:!0,type:{name:"Item[]"}},actions:{defaultValue:null,description:"",name:"actions",required:!0,type:{name:"Action<Item>[]"}},getItemId:{defaultValue:null,description:"",name:"getItemId",required:!0,type:{name:"(item: Item) => string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/dataviews/src/components/dataviews-bulk-actions/index.tsx#BulkSelectionCheckbox"]={docgenInfo:BulkSelectionCheckbox.__docgenInfo,name:"BulkSelectionCheckbox",path:"packages/dataviews/src/components/dataviews-bulk-actions/index.tsx#BulkSelectionCheckbox"})}catch(__react_docgen_typescript_loader_error){}var arrow_left=__webpack_require__("./packages/icons/build-module/library/arrow-left.js"),arrow_right=__webpack_require__("./packages/icons/build-module/library/arrow-right.js"),unseen=__webpack_require__("./packages/icons/build-module/library/unseen.js");const{DropdownMenuV2:column_header_menu_DropdownMenuV2}=unlock(private_apis.Y);function WithDropDownMenuSeparators({children}){return react.Children.toArray(children).filter(Boolean).map(((child,i)=>(0,jsx_runtime.jsxs)(react.Fragment,{children:[i>0&&(0,jsx_runtime.jsx)(column_header_menu_DropdownMenuV2.Separator,{}),child]},i)))}const _HeaderMenu=(0,react.forwardRef)((function HeaderMenu({fieldId,view,fields,onChangeView,onHide,setOpenedFilter},ref){const combinedField=view.layout?.combinedFields?.find((f=>f.id===fieldId)),index=view.fields?.indexOf(fieldId);if(combinedField)return combinedField.header||combinedField.label;const field=fields.find((f=>f.id===fieldId));if(!field)return null;const isHidable=!1!==field.enableHiding,isSortable=!1!==field.enableSorting,isSorted=view.sort?.field===field.id,operators=sanitizeOperators(field),canAddFilter=!(view.filters?.some((_filter=>field.id===_filter.field))||!field.elements?.length||!operators.length||field.filterBy?.isPrimary);return(0,jsx_runtime.jsx)(column_header_menu_DropdownMenuV2,{align:"start",trigger:(0,jsx_runtime.jsxs)(build_module_button.ZP,{size:"compact",className:"dataviews-view-table-header-button",ref,variant:"tertiary",children:[field.header,view.sort&&isSorted&&(0,jsx_runtime.jsx)("span",{"aria-hidden":"true",children:sortArrows[view.sort.direction]})]}),style:{minWidth:"240px"},children:(0,jsx_runtime.jsxs)(WithDropDownMenuSeparators,{children:[isSortable&&(0,jsx_runtime.jsx)(column_header_menu_DropdownMenuV2.Group,{children:SORTING_DIRECTIONS.map((direction=>{const isChecked=view.sort&&isSorted&&view.sort.direction===direction,value=`${field.id}-${direction}`;return(0,jsx_runtime.jsx)(column_header_menu_DropdownMenuV2.RadioItem,{name:"view-table-sorting",value,checked:isChecked,onChange:()=>{onChangeView({...view,sort:{field:field.id,direction}})},children:(0,jsx_runtime.jsx)(column_header_menu_DropdownMenuV2.ItemLabel,{children:sortLabels[direction]})},value)}))}),canAddFilter&&(0,jsx_runtime.jsx)(column_header_menu_DropdownMenuV2.Group,{children:(0,jsx_runtime.jsx)(column_header_menu_DropdownMenuV2.Item,{prefix:(0,jsx_runtime.jsx)(icon.Z,{icon:library_funnel}),onClick:()=>{setOpenedFilter(field.id),onChangeView({...view,page:1,filters:[...view.filters||[],{field:field.id,value:void 0,operator:operators[0]}]})},children:(0,jsx_runtime.jsx)(column_header_menu_DropdownMenuV2.ItemLabel,{children:(0,build_module.__)("Add filter")})})}),(0,jsx_runtime.jsxs)(column_header_menu_DropdownMenuV2.Group,{children:[(0,jsx_runtime.jsx)(column_header_menu_DropdownMenuV2.Item,{prefix:(0,jsx_runtime.jsx)(icon.Z,{icon:arrow_left.Z}),disabled:index<1,onClick:()=>{var _view$fields$slice;!view.fields||index<1||onChangeView({...view,fields:[...null!==(_view$fields$slice=view.fields.slice(0,index-1))&&void 0!==_view$fields$slice?_view$fields$slice:[],field.id,view.fields[index-1],...view.fields.slice(index+1)]})},children:(0,jsx_runtime.jsx)(column_header_menu_DropdownMenuV2.ItemLabel,{children:(0,build_module.__)("Move left")})}),(0,jsx_runtime.jsx)(column_header_menu_DropdownMenuV2.Item,{prefix:(0,jsx_runtime.jsx)(icon.Z,{icon:arrow_right.Z}),disabled:!view.fields||index>=view.fields.length-1,onClick:()=>{var _view$fields$slice2;!view.fields||index>=view.fields.length-1||onChangeView({...view,fields:[...null!==(_view$fields$slice2=view.fields.slice(0,index))&&void 0!==_view$fields$slice2?_view$fields$slice2:[],view.fields[index+1],field.id,...view.fields.slice(index+2)]})},children:(0,jsx_runtime.jsx)(column_header_menu_DropdownMenuV2.ItemLabel,{children:(0,build_module.__)("Move right")})}),isHidable&&(0,jsx_runtime.jsx)(column_header_menu_DropdownMenuV2.Item,{prefix:(0,jsx_runtime.jsx)(icon.Z,{icon:unseen.Z}),onClick:()=>{const viewFields=view.fields||fields.map((f=>f.id));onHide(field),onChangeView({...view,fields:viewFields.filter((id=>id!==field.id))})},children:(0,jsx_runtime.jsx)(column_header_menu_DropdownMenuV2.ItemLabel,{children:(0,build_module.__)("Hide column")})})]})]})})})),column_header_menu=_HeaderMenu;function TableColumn({column,fields,view,...props}){const field=fields.find((f=>f.id===column));if(field)return(0,jsx_runtime.jsx)(TableColumnField,{...props,field});const combinedField=view.layout?.combinedFields?.find((f=>f.id===column));return combinedField?(0,jsx_runtime.jsx)(TableColumnCombined,{...props,fields,view,field:combinedField}):null}function TableColumnField({primaryField,item,field}){return(0,jsx_runtime.jsx)("div",{className:(0,clsx.Z)("dataviews-view-table__cell-content-wrapper",{"dataviews-view-table__primary-field":primaryField?.id===field.id}),children:(0,jsx_runtime.jsx)(field.render,{item})})}function TableColumnCombined({field,...props}){const children=field.children.map((child=>(0,jsx_runtime.jsx)(TableColumn,{...props,column:child},child)));return"horizontal"===field.direction?(0,jsx_runtime.jsx)(component.Z,{spacing:3,children}):(0,jsx_runtime.jsx)(v_stack_component.Z,{spacing:0,children})}function TableRow({hasBulkActions,item,actions,fields,id,view,primaryField,selection,getItemId,onChangeSelection}){const hasPossibleBulkAction=useHasAPossibleBulkAction(actions,item),isSelected=hasPossibleBulkAction&&selection.includes(id),[isHovered,setIsHovered]=(0,react.useState)(!1),isTouchDeviceRef=(0,react.useRef)(!1),columns=view.fields||fields.map((f=>f.id));return(0,jsx_runtime.jsxs)("tr",{className:(0,clsx.Z)("dataviews-view-table__row",{"is-selected":hasPossibleBulkAction&&isSelected,"is-hovered":isHovered,"has-bulk-actions":hasPossibleBulkAction}),onMouseEnter:()=>{setIsHovered(!0)},onMouseLeave:()=>{setIsHovered(!1)},onTouchStart:()=>{isTouchDeviceRef.current=!0},onClick:()=>{hasPossibleBulkAction&&(isTouchDeviceRef.current||"Range"===document.getSelection()?.type||onChangeSelection(selection.includes(id)?selection.filter((itemId=>id!==itemId)):[id]))},children:[hasBulkActions&&(0,jsx_runtime.jsx)("td",{className:"dataviews-view-table__checkbox-column",style:{width:"1%"},children:(0,jsx_runtime.jsx)("div",{className:"dataviews-view-table__cell-content-wrapper",children:(0,jsx_runtime.jsx)(DataViewsSelectionCheckbox,{item,selection,onChangeSelection,getItemId,primaryField,disabled:!hasPossibleBulkAction})})}),columns.map((column=>{var _view$layout$styles$c;const{width,maxWidth,minWidth}=null!==(_view$layout$styles$c=view.layout?.styles?.[column])&&void 0!==_view$layout$styles$c?_view$layout$styles$c:{};return(0,jsx_runtime.jsx)("td",{style:{width,maxWidth,minWidth},children:(0,jsx_runtime.jsx)(TableColumn,{primaryField,fields,item,column,view})},column)})),!!actions?.length&&(0,jsx_runtime.jsx)("td",{className:"dataviews-view-table__actions-column",onClick:e=>e.stopPropagation(),children:(0,jsx_runtime.jsx)(ItemActions,{item,actions})})]})}function ViewTable({actions,data,fields,getItemId,isLoading=!1,onChangeView,onChangeSelection,selection,setOpenedFilter,view}){const headerMenuRefs=(0,react.useRef)(new Map),headerMenuToFocusRef=(0,react.useRef)(),[nextHeaderMenuToFocus,setNextHeaderMenuToFocus]=(0,react.useState)(),hasBulkActions=useSomeItemHasAPossibleBulkAction(actions,data);(0,react.useEffect)((()=>{headerMenuToFocusRef.current&&(headerMenuToFocusRef.current.focus(),headerMenuToFocusRef.current=void 0)}));const tableNoticeId=(0,react.useId)();if(nextHeaderMenuToFocus)return headerMenuToFocusRef.current=nextHeaderMenuToFocus,void setNextHeaderMenuToFocus(void 0);const onHide=field=>{const hidden=headerMenuRefs.current.get(field.id),fallback=hidden?headerMenuRefs.current.get(hidden.fallback):void 0;setNextHeaderMenuToFocus(fallback?.node)},columns=view.fields||fields.map((f=>f.id)),hasData=!!data?.length,primaryField=fields.find((field=>field.id===view.layout?.primaryField));return(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsxs)("table",{className:"dataviews-view-table","aria-busy":isLoading,"aria-describedby":tableNoticeId,children:[(0,jsx_runtime.jsx)("thead",{children:(0,jsx_runtime.jsxs)("tr",{className:"dataviews-view-table__row",children:[hasBulkActions&&(0,jsx_runtime.jsx)("th",{className:"dataviews-view-table__checkbox-column",style:{width:"1%"},scope:"col",children:(0,jsx_runtime.jsx)(BulkSelectionCheckbox,{selection,onChangeSelection,data,actions,getItemId})}),columns.map(((column,index)=>{var _view$layout$styles$c2;const{width,maxWidth,minWidth}=null!==(_view$layout$styles$c2=view.layout?.styles?.[column])&&void 0!==_view$layout$styles$c2?_view$layout$styles$c2:{};return(0,jsx_runtime.jsx)("th",{style:{width,maxWidth,minWidth},"aria-sort":view.sort?.field===column?sortValues[view.sort.direction]:void 0,scope:"col",children:(0,jsx_runtime.jsx)(column_header_menu,{ref:node=>{node?headerMenuRefs.current.set(column,{node,fallback:columns[index>0?index-1:1]}):headerMenuRefs.current.delete(column)},fieldId:column,view,fields,onChangeView,onHide,setOpenedFilter})},column)})),!!actions?.length&&(0,jsx_runtime.jsx)("th",{className:"dataviews-view-table__actions-column",children:(0,jsx_runtime.jsx)("span",{className:"dataviews-view-table-header",children:(0,build_module.__)("Actions")})})]})}),(0,jsx_runtime.jsx)("tbody",{children:hasData&&data.map(((item,index)=>(0,jsx_runtime.jsx)(TableRow,{item,hasBulkActions,actions,fields,id:getItemId(item)||index.toString(),view,primaryField,selection,getItemId,onChangeSelection},getItemId(item))))})]}),(0,jsx_runtime.jsx)("div",{className:(0,clsx.Z)({"dataviews-loading":isLoading,"dataviews-no-results":!hasData&&!isLoading}),id:tableNoticeId,children:!hasData&&(0,jsx_runtime.jsx)("p",{children:isLoading?(0,jsx_runtime.jsx)(spinner.ZP,{}):(0,build_module.__)("No results")})})]})}TableColumnField.displayName="TableColumnField",TableColumnCombined.displayName="TableColumnCombined",TableRow.displayName="TableRow";const table=ViewTable;try{ViewTable.displayName="ViewTable",ViewTable.__docgenInfo={description:"",displayName:"ViewTable",props:{view:{defaultValue:null,description:"",name:"view",required:!0,type:{name:"ViewTable"}},actions:{defaultValue:null,description:"",name:"actions",required:!0,type:{name:"Action<Item>[]"}},data:{defaultValue:null,description:"",name:"data",required:!0,type:{name:"Item[]"}},fields:{defaultValue:null,description:"",name:"fields",required:!0,type:{name:"NormalizedField<Item>[]"}},getItemId:{defaultValue:null,description:"",name:"getItemId",required:!0,type:{name:"(item: Item) => string"}},isLoading:{defaultValue:{value:"false"},description:"",name:"isLoading",required:!1,type:{name:"boolean"}},onChangeView:{defaultValue:null,description:"",name:"onChangeView",required:!0,type:{name:"(view: View) => void"}},onChangeSelection:{defaultValue:null,description:"",name:"onChangeSelection",required:!0,type:{name:"SetSelection"}},selection:{defaultValue:null,description:"",name:"selection",required:!0,type:{name:"string[]"}},setOpenedFilter:{defaultValue:null,description:"",name:"setOpenedFilter",required:!0,type:{name:"(fieldId: string) => void"}},density:{defaultValue:null,description:"",name:"density",required:!0,type:{name:"number"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/dataviews/src/dataviews-layouts/table/index.tsx#ViewTable"]={docgenInfo:ViewTable.__docgenInfo,name:"ViewTable",path:"packages/dataviews/src/dataviews-layouts/table/index.tsx#ViewTable"})}catch(__react_docgen_typescript_loader_error){}var flex_component=__webpack_require__("./packages/components/build-module/flex/flex/component.js"),grid_component=__webpack_require__("./packages/components/build-module/grid/component.js");function GridItem({selection,onChangeSelection,getItemId,item,actions,mediaField,primaryField,visibleFields,badgeFields,columnFields}){const hasBulkAction=useHasAPossibleBulkAction(actions,item),id=getItemId(item),isSelected=selection.includes(id),renderedMediaField=mediaField?.render?(0,jsx_runtime.jsx)(mediaField.render,{item}):null,renderedPrimaryField=primaryField?.render?(0,jsx_runtime.jsx)(primaryField.render,{item}):null;return(0,jsx_runtime.jsxs)(v_stack_component.Z,{spacing:0,className:(0,clsx.Z)("dataviews-view-grid__card",{"is-selected":hasBulkAction&&isSelected}),onClickCapture:event=>{if(event.ctrlKey||event.metaKey){if(event.stopPropagation(),event.preventDefault(),!hasBulkAction)return;onChangeSelection(selection.includes(id)?selection.filter((itemId=>id!==itemId)):[...selection,id])}},children:[(0,jsx_runtime.jsx)("div",{className:"dataviews-view-grid__media",children:renderedMediaField}),(0,jsx_runtime.jsx)(DataViewsSelectionCheckbox,{item,selection,onChangeSelection,getItemId,primaryField,disabled:!hasBulkAction}),(0,jsx_runtime.jsxs)(component.Z,{justify:"space-between",className:"dataviews-view-grid__title-actions",children:[(0,jsx_runtime.jsx)(component.Z,{className:"dataviews-view-grid__primary-field",children:renderedPrimaryField}),(0,jsx_runtime.jsx)(ItemActions,{item,actions,isCompact:!0})]}),!!badgeFields?.length&&(0,jsx_runtime.jsx)(component.Z,{className:"dataviews-view-grid__badge-fields",spacing:2,wrap:!0,alignment:"top",justify:"flex-start",children:badgeFields.map((field=>(0,jsx_runtime.jsx)(flex_item_component.Z,{className:"dataviews-view-grid__field-value",children:(0,jsx_runtime.jsx)(field.render,{item})},field.id)))}),!!visibleFields?.length&&(0,jsx_runtime.jsx)(v_stack_component.Z,{className:"dataviews-view-grid__fields",spacing:1,children:visibleFields.map((field=>(0,jsx_runtime.jsx)(flex_component.Z,{className:(0,clsx.Z)("dataviews-view-grid__field",columnFields?.includes(field.id)?"is-column":"is-row"),gap:1,justify:"flex-start",expanded:!0,style:{height:"auto"},direction:columnFields?.includes(field.id)?"column":"row",children:(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)(flex_item_component.Z,{className:"dataviews-view-grid__field-name",children:field.header}),(0,jsx_runtime.jsx)(flex_item_component.Z,{className:"dataviews-view-grid__field-value",style:{maxHeight:"none"},children:(0,jsx_runtime.jsx)(field.render,{item})})]})},field.id)))})]},id)}GridItem.displayName="GridItem";try{grid.displayName="grid",grid.__docgenInfo={description:"",displayName:"grid",props:{view:{defaultValue:null,description:"",name:"view",required:!0,type:{name:"ViewGrid"}},actions:{defaultValue:null,description:"",name:"actions",required:!0,type:{name:"Action<Item>[]"}},data:{defaultValue:null,description:"",name:"data",required:!0,type:{name:"Item[]"}},fields:{defaultValue:null,description:"",name:"fields",required:!0,type:{name:"NormalizedField<Item>[]"}},getItemId:{defaultValue:null,description:"",name:"getItemId",required:!0,type:{name:"(item: Item) => string"}},isLoading:{defaultValue:null,description:"",name:"isLoading",required:!1,type:{name:"boolean"}},onChangeView:{defaultValue:null,description:"",name:"onChangeView",required:!0,type:{name:"(view: View) => void"}},onChangeSelection:{defaultValue:null,description:"",name:"onChangeSelection",required:!0,type:{name:"SetSelection"}},selection:{defaultValue:null,description:"",name:"selection",required:!0,type:{name:"string[]"}},setOpenedFilter:{defaultValue:null,description:"",name:"setOpenedFilter",required:!0,type:{name:"(fieldId: string) => void"}},density:{defaultValue:null,description:"",name:"density",required:!0,type:{name:"number"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/dataviews/src/dataviews-layouts/grid/index.tsx#grid"]={docgenInfo:grid.__docgenInfo,name:"grid",path:"packages/dataviews/src/dataviews-layouts/grid/index.tsx#grid"})}catch(__react_docgen_typescript_loader_error){}var _2GXGCHW6=__webpack_require__("./packages/dataviews/node_modules/@ariakit/react-core/esm/__chunks/2GXGCHW6.js"),use_instance_id=__webpack_require__("./packages/compose/build-module/hooks/use-instance-id/index.js");const{useCompositeStoreV2:list_useCompositeStore,CompositeV2:list_Composite,CompositeItemV2:list_CompositeItem,CompositeRowV2:CompositeRow,DropdownMenuV2:DropdownMenu}=unlock(private_apis.Y);function ListItem({actions,id,isSelected,item,mediaField,onSelect,primaryField,store,visibleFields}){const registry=(0,use_registry.Z)(),itemRef=(0,react.useRef)(null),labelId=`${id}-label`,descriptionId=`${id}-description`,[isHovered,setIsHovered]=(0,react.useState)(!1);(0,react.useEffect)((()=>{isSelected&&itemRef.current?.scrollIntoView({behavior:"auto",block:"nearest",inline:"nearest"})}),[isSelected]);const{primaryAction,eligibleActions}=(0,react.useMemo)((()=>{const _eligibleActions=actions.filter((action=>!action.isEligible||action.isEligible(item))),_primaryActions=_eligibleActions.filter((action=>action.isPrimary&&!!action.icon));return{primaryAction:_primaryActions?.[0],eligibleActions:_eligibleActions}}),[actions,item]),[isModalOpen,setIsModalOpen]=(0,react.useState)(!1),primaryActionLabel=primaryAction&&("string"==typeof primaryAction.label?primaryAction.label:primaryAction.label([item])),renderedMediaField=mediaField?.render?(0,jsx_runtime.jsx)(mediaField.render,{item}):(0,jsx_runtime.jsx)("div",{className:"dataviews-view-list__media-placeholder"}),renderedPrimaryField=primaryField?.render?(0,jsx_runtime.jsx)(primaryField.render,{item}):null;return(0,jsx_runtime.jsx)(CompositeRow,{ref:itemRef,render:(0,jsx_runtime.jsx)("li",{}),role:"row",className:(0,clsx.Z)({"is-selected":isSelected,"is-hovered":isHovered}),onMouseEnter:()=>{setIsHovered(!0)},onMouseLeave:()=>{setIsHovered(!1)},children:(0,jsx_runtime.jsxs)(component.Z,{className:"dataviews-view-list__item-wrapper",alignment:"center",spacing:0,children:[(0,jsx_runtime.jsx)("div",{role:"gridcell",children:(0,jsx_runtime.jsx)(list_CompositeItem,{store,render:(0,jsx_runtime.jsx)("div",{}),role:"button",id,"aria-pressed":isSelected,"aria-labelledby":labelId,"aria-describedby":descriptionId,className:"dataviews-view-list__item",onClick:()=>onSelect(item),children:(0,jsx_runtime.jsxs)(component.Z,{spacing:3,justify:"start",alignment:"flex-start",children:[(0,jsx_runtime.jsx)("div",{className:"dataviews-view-list__media-wrapper",children:renderedMediaField}),(0,jsx_runtime.jsxs)(v_stack_component.Z,{spacing:1,className:"dataviews-view-list__field-wrapper",children:[(0,jsx_runtime.jsx)("span",{className:"dataviews-view-list__primary-field",id:labelId,children:renderedPrimaryField}),(0,jsx_runtime.jsx)("div",{className:"dataviews-view-list__fields",id:descriptionId,children:visibleFields.map((field=>(0,jsx_runtime.jsxs)("div",{className:"dataviews-view-list__field",children:[(0,jsx_runtime.jsx)(visually_hidden_component.Z,{as:"span",className:"dataviews-view-list__field-label",children:field.label}),(0,jsx_runtime.jsx)("span",{className:"dataviews-view-list__field-value",children:(0,jsx_runtime.jsx)(field.render,{item})})]},field.id)))})]})]})})}),eligibleActions?.length>0&&(0,jsx_runtime.jsxs)(component.Z,{spacing:3,justify:"flex-end",className:"dataviews-view-list__item-actions",style:{flexShrink:"0",width:"auto"},children:[primaryAction&&"RenderModal"in primaryAction&&(0,jsx_runtime.jsx)("div",{role:"gridcell",children:(0,jsx_runtime.jsx)(list_CompositeItem,{store,render:(0,jsx_runtime.jsx)(build_module_button.ZP,{label:primaryActionLabel,icon:primaryAction.icon,isDestructive:primaryAction.isDestructive,size:"small",onClick:()=>setIsModalOpen(!0)}),children:isModalOpen&&(0,jsx_runtime.jsx)(ActionModal,{action:primaryAction,items:[item],closeModal:()=>setIsModalOpen(!1)})})}),primaryAction&&!("RenderModal"in primaryAction)&&(0,jsx_runtime.jsx)("div",{role:"gridcell",children:(0,jsx_runtime.jsx)(list_CompositeItem,{store,render:(0,jsx_runtime.jsx)(build_module_button.ZP,{label:primaryActionLabel,icon:primaryAction.icon,isDestructive:primaryAction.isDestructive,size:"small",onClick:()=>{primaryAction.callback([item],{registry})}})})},primaryAction.id),(0,jsx_runtime.jsx)("div",{role:"gridcell",children:(0,jsx_runtime.jsx)(DropdownMenu,{trigger:(0,jsx_runtime.jsx)(list_CompositeItem,{store,render:(0,jsx_runtime.jsx)(build_module_button.ZP,{size:"small",icon:more_vertical.Z,label:(0,build_module.__)("Actions"),accessibleWhenDisabled:!0,disabled:!actions.length,onKeyDown:event=>{"ArrowDown"===event.key&&(event.preventDefault(),store.move(store.down())),"ArrowUp"===event.key&&(event.preventDefault(),store.move(store.up()))}})}),placement:"bottom-end",children:(0,jsx_runtime.jsx)(ActionsDropdownMenuGroup,{actions:eligibleActions,item})})})]})]})})}function ViewList(props){const{actions,data,fields,getItemId,isLoading,onChangeSelection,selection,view}=props,baseId=(0,use_instance_id.Z)(ViewList,"view-list"),selectedItem=data?.findLast((item=>selection.includes(getItemId(item)))),mediaField=fields.find((field=>field.id===view.layout?.mediaField)),primaryField=fields.find((field=>field.id===view.layout?.primaryField)),viewFields=view.fields||fields.map((field=>field.id)),visibleFields=fields.filter((field=>viewFields.includes(field.id)&&![view.layout?.primaryField,view.layout?.mediaField].includes(field.id))),onSelect=item=>onChangeSelection([getItemId(item)]),getItemDomId=(0,react.useCallback)((item=>item?`${baseId}-${getItemId(item)}`:void 0),[baseId,getItemId]),store=list_useCompositeStore({defaultActiveId:getItemDomId(selectedItem)}),isActiveIdInList=(0,_2GXGCHW6.Kw)(store,(state=>state.items.some((item=>item.id===state.activeId))));(0,react.useEffect)((()=>{isActiveIdInList||(store.down()?store.move(store.down()):store.up()&&store.move(store.up()))}),[isActiveIdInList]);const hasData=data?.length;return hasData?(0,jsx_runtime.jsx)(list_Composite,{id:baseId,render:(0,jsx_runtime.jsx)("ul",{}),className:"dataviews-view-list",role:"grid",store,children:data.map((item=>{const id=getItemDomId(item);return(0,jsx_runtime.jsx)(ListItem,{id,actions,item,isSelected:item===selectedItem,onSelect,mediaField,primaryField,store,visibleFields},id)}))}):(0,jsx_runtime.jsx)("div",{className:(0,clsx.Z)({"dataviews-loading":isLoading,"dataviews-no-results":!hasData&&!isLoading}),children:!hasData&&(0,jsx_runtime.jsx)("p",{children:isLoading?(0,jsx_runtime.jsx)(spinner.ZP,{}):(0,build_module.__)("No results")})})}ListItem.displayName="ListItem",ViewList.displayName="ViewList";try{list.displayName="list",list.__docgenInfo={description:"",displayName:"list",props:{view:{defaultValue:null,description:"",name:"view",required:!0,type:{name:"ViewList"}},actions:{defaultValue:null,description:"",name:"actions",required:!0,type:{name:"Action<Item>[]"}},data:{defaultValue:null,description:"",name:"data",required:!0,type:{name:"Item[]"}},fields:{defaultValue:null,description:"",name:"fields",required:!0,type:{name:"NormalizedField<Item>[]"}},getItemId:{defaultValue:null,description:"",name:"getItemId",required:!0,type:{name:"(item: Item) => string"}},isLoading:{defaultValue:null,description:"",name:"isLoading",required:!1,type:{name:"boolean"}},onChangeView:{defaultValue:null,description:"",name:"onChangeView",required:!0,type:{name:"(view: View) => void"}},onChangeSelection:{defaultValue:null,description:"",name:"onChangeSelection",required:!0,type:{name:"SetSelection"}},selection:{defaultValue:null,description:"",name:"selection",required:!0,type:{name:"string[]"}},setOpenedFilter:{defaultValue:null,description:"",name:"setOpenedFilter",required:!0,type:{name:"(fieldId: string) => void"}},density:{defaultValue:null,description:"",name:"density",required:!0,type:{name:"number"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/dataviews/src/dataviews-layouts/list/index.tsx#list"]={docgenInfo:list.__docgenInfo,name:"list",path:"packages/dataviews/src/dataviews-layouts/list/index.tsx#list"})}catch(__react_docgen_typescript_loader_error){}const VIEW_LAYOUTS=[{type:LAYOUT_TABLE,label:(0,build_module.__)("Table"),component:table,icon:block_table.Z},{type:LAYOUT_GRID,label:(0,build_module.__)("Grid"),component:function ViewGrid({actions,data,fields,getItemId,isLoading,onChangeSelection,selection,view,density}){const mediaField=fields.find((field=>field.id===view.layout?.mediaField)),primaryField=fields.find((field=>field.id===view.layout?.primaryField)),viewFields=view.fields||fields.map((field=>field.id)),{visibleFields,badgeFields}=fields.reduce(((accumulator,field)=>{if(!viewFields.includes(field.id)||[view.layout?.mediaField,view?.layout?.primaryField].includes(field.id))return accumulator;return accumulator[view.layout?.badgeFields?.includes(field.id)?"badgeFields":"visibleFields"].push(field),accumulator}),{visibleFields:[],badgeFields:[]}),hasData=!!data?.length,gridStyle=density?{gridTemplateColumns:`repeat(${density}, minmax(0, 1fr))`}:{};return(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[hasData&&(0,jsx_runtime.jsx)(grid_component.Z,{gap:8,columns:2,alignment:"top",className:"dataviews-view-grid",style:gridStyle,"aria-busy":isLoading,children:data.map((item=>(0,jsx_runtime.jsx)(GridItem,{selection,onChangeSelection,getItemId,item,actions,mediaField,primaryField,visibleFields,badgeFields,columnFields:view.layout?.columnFields},getItemId(item))))}),!hasData&&(0,jsx_runtime.jsx)("div",{className:(0,clsx.Z)({"dataviews-loading":isLoading,"dataviews-no-results":!isLoading}),children:(0,jsx_runtime.jsx)("p",{children:isLoading?(0,jsx_runtime.jsx)(spinner.ZP,{}):(0,build_module.__)("No results")})})]})},icon:category.Z},{type:"list",label:(0,build_module.__)("List"),component:ViewList,icon:(0,build_module.dZ)()?format_list_bullets_rtl.Z:format_list_bullets.Z}];function DataViewsLayout(){const{actions=[],data,fields,getItemId,isLoading,view,onChangeView,selection,onChangeSelection,setOpenedFilter,density}=(0,react.useContext)(dataviews_context),ViewComponent=VIEW_LAYOUTS.find((v=>v.type===view.type))?.component;return(0,jsx_runtime.jsx)(ViewComponent,{actions,data,fields,getItemId,isLoading,onChangeView,onChangeSelection,selection,setOpenedFilter,view,density})}DataViewsLayout.displayName="DataViewsLayout";var previous=__webpack_require__("./packages/icons/build-module/library/previous.js"),next=__webpack_require__("./packages/icons/build-module/library/next.js");const dataviews_pagination=(0,react.memo)((function DataViewsPagination(){var _view$page;const{view,onChangeView,paginationInfo:{totalItems=0,totalPages}}=(0,react.useContext)(dataviews_context);if(!totalItems||!totalPages)return null;const currentPage=null!==(_view$page=view.page)&&void 0!==_view$page?_view$page:1,pageSelectOptions=Array.from(Array(totalPages)).map(((_,i)=>{const page=i+1;return{value:page.toString(),label:page.toString(),"aria-label":currentPage===page?(0,build_module.gB)((0,build_module.__)("Page %1$s of %2$s"),currentPage,totalPages):page.toString()}}));return!!totalItems&&1!==totalPages&&(0,jsx_runtime.jsxs)(component.Z,{expanded:!1,className:"dataviews-pagination",justify:"end",spacing:6,children:[(0,jsx_runtime.jsx)(component.Z,{justify:"flex-start",expanded:!1,spacing:1,className:"dataviews-pagination__page-select",children:(0,create_interpolate_element.Z)((0,build_module.gB)((0,build_module._x)("<div>Page</div>%1$s<div>of %2$s</div>","paging"),"<CurrentPage />",totalPages),{div:(0,jsx_runtime.jsx)("div",{"aria-hidden":!0}),CurrentPage:(0,jsx_runtime.jsx)(select_control.Z,{"aria-label":(0,build_module.__)("Current page"),value:currentPage.toString(),options:pageSelectOptions,onChange:newValue=>{onChangeView({...view,page:+newValue})},size:"small",__nextHasNoMarginBottom:!0,variant:"minimal"})})}),(0,jsx_runtime.jsxs)(component.Z,{expanded:!1,spacing:1,children:[(0,jsx_runtime.jsx)(build_module_button.ZP,{onClick:()=>onChangeView({...view,page:currentPage-1}),disabled:1===currentPage,accessibleWhenDisabled:!0,label:(0,build_module.__)("Previous page"),icon:previous.Z,showTooltip:!0,size:"compact",tooltipPosition:"top"}),(0,jsx_runtime.jsx)(build_module_button.ZP,{onClick:()=>onChangeView({...view,page:currentPage+1}),disabled:currentPage>=totalPages,accessibleWhenDisabled:!0,label:(0,build_module.__)("Next page"),icon:next.Z,showTooltip:!0,size:"compact",tooltipPosition:"top"})]})]})})),dataviews_footer_EMPTY_ARRAY=[];function DataViewsFooter(){const{view,paginationInfo:{totalItems=0,totalPages},data,actions=dataviews_footer_EMPTY_ARRAY}=(0,react.useContext)(dataviews_context),hasBulkActions=useSomeItemHasAPossibleBulkAction(actions,data)&&[LAYOUT_TABLE,LAYOUT_GRID].includes(view.type);return!totalItems||!totalPages||totalPages<=1&&!hasBulkActions?null:!!totalItems&&(0,jsx_runtime.jsxs)(component.Z,{expanded:!1,justify:"end",className:"dataviews-footer",children:[hasBulkActions&&(0,jsx_runtime.jsx)(BulkActionsFooter,{}),(0,jsx_runtime.jsx)(dataviews_pagination,{})]})}var search_control=__webpack_require__("./packages/components/build-module/search-control/index.js"),use_debounced_input=__webpack_require__("./packages/compose/build-module/hooks/use-debounced-input/index.js");const DataViewsSearch=(0,react.memo)((function Search({label}){const{view,onChangeView}=(0,react.useContext)(dataviews_context),[search,setSearch,debouncedSearch]=(0,use_debounced_input.Z)(view.search);(0,react.useEffect)((()=>{var _view$search;setSearch(null!==(_view$search=view.search)&&void 0!==_view$search?_view$search:"")}),[view.search,setSearch]);const onChangeViewRef=(0,react.useRef)(onChangeView),viewRef=(0,react.useRef)(view);(0,react.useEffect)((()=>{onChangeViewRef.current=onChangeView,viewRef.current=view}),[onChangeView,view]),(0,react.useEffect)((()=>{debouncedSearch!==viewRef.current?.search&&onChangeViewRef.current({...viewRef.current,page:1,search:debouncedSearch})}),[debouncedSearch]);const searchLabel=label||(0,build_module.__)("Search");return(0,jsx_runtime.jsx)(search_control.Z,{className:"dataviews-search",__nextHasNoMarginBottom:!0,onChange:setSearch,value:search,label:searchLabel,placeholder:searchLabel,size:"compact"})})),dataviews_search=DataViewsSearch;var toggle_group_control_component=__webpack_require__("./packages/components/build-module/toggle-group-control/toggle-group-control/component.js"),toggle_group_control_option_icon_component=__webpack_require__("./packages/components/build-module/toggle-group-control/toggle-group-control-option-icon/component.js"),toggle_group_control_option_component=__webpack_require__("./packages/components/build-module/toggle-group-control/toggle-group-control-option/component.js"),item_component=__webpack_require__("./packages/components/build-module/item-group/item/component.js"),item_group_component=__webpack_require__("./packages/components/build-module/item-group/item-group/component.js"),base_control=__webpack_require__("./packages/components/build-module/base-control/index.js"),heading_component=__webpack_require__("./packages/components/build-module/heading/component.js"),text_component=__webpack_require__("./packages/components/build-module/text/component.js"),popover=__webpack_require__("./packages/components/build-module/popover/index.js"),chevron_up=__webpack_require__("./packages/icons/build-module/library/chevron-up.js"),chevron_down=__webpack_require__("./packages/icons/build-module/library/chevron-down.js"),seen=__webpack_require__("./packages/icons/build-module/library/seen.js"),cog=__webpack_require__("./packages/icons/build-module/library/cog.js"),warning_build_module=__webpack_require__("./packages/warning/build-module/index.js"),range_control=__webpack_require__("./packages/components/build-module/range-control/index.js"),use_viewport_match=__webpack_require__("./packages/compose/build-module/hooks/use-viewport-match/index.js");const viewportBreaks={xhuge:{min:3,max:6,default:5},huge:{min:2,max:4,default:4},xlarge:{min:2,max:3,default:3},large:{min:1,max:2,default:2},mobile:{min:1,max:2,default:2}};function DensityPicker({density,setDensity}){const viewport=function useViewPortBreakpoint(){const isXHuge=(0,use_viewport_match.Z)("xhuge",">="),isHuge=(0,use_viewport_match.Z)("huge",">="),isXlarge=(0,use_viewport_match.Z)("xlarge",">="),isLarge=(0,use_viewport_match.Z)("large",">="),isMobile=(0,use_viewport_match.Z)("mobile",">=");return isXHuge?"xhuge":isHuge?"huge":isXlarge?"xlarge":isLarge?"large":isMobile?"mobile":null}();(0,react.useEffect)((()=>{setDensity((_density=>{if(!viewport||!_density)return 0;const breakValues=viewportBreaks[viewport];return _density<breakValues.min?breakValues.min:_density>breakValues.max?breakValues.max:_density}))}),[setDensity,viewport]);const breakValues=viewportBreaks[viewport||"mobile"],densityToUse=density||breakValues.default,marks=(0,react.useMemo)((()=>Array.from({length:breakValues.max-breakValues.min+1},((_,i)=>({value:breakValues.min+i})))),[breakValues]);return viewport?(0,jsx_runtime.jsx)(range_control.Z,{__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0,showTooltip:!1,label:(0,build_module.__)("Preview size"),value:breakValues.max+breakValues.min-densityToUse,marks,min:breakValues.min,max:breakValues.max,withInputField:!1,onChange:(value=0)=>{setDensity(breakValues.max+breakValues.min-value)},step:1}):null}DensityPicker.displayName="DensityPicker";try{densitypicker.displayName="densitypicker",densitypicker.__docgenInfo={description:"",displayName:"densitypicker",props:{density:{defaultValue:null,description:"",name:"density",required:!0,type:{name:"number"}},setDensity:{defaultValue:null,description:"",name:"setDensity",required:!0,type:{name:"Dispatch<SetStateAction<number>>"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/dataviews/src/dataviews-layouts/grid/density-picker.tsx#densitypicker"]={docgenInfo:densitypicker.__docgenInfo,name:"densitypicker",path:"packages/dataviews/src/dataviews-layouts/grid/density-picker.tsx#densitypicker"})}catch(__react_docgen_typescript_loader_error){}const{DropdownMenuV2:dataviews_view_config_DropdownMenuV2}=unlock(private_apis.Y);function ViewTypeMenu({defaultLayouts={list:{},grid:{},table:{}}}){const{view,onChangeView}=(0,react.useContext)(dataviews_context),availableLayouts=Object.keys(defaultLayouts);if(availableLayouts.length<=1)return null;const activeView=VIEW_LAYOUTS.find((v=>view.type===v.type));return(0,jsx_runtime.jsx)(dataviews_view_config_DropdownMenuV2,{trigger:(0,jsx_runtime.jsx)(build_module_button.ZP,{size:"compact",icon:activeView?.icon,label:(0,build_module.__)("Layout")}),children:availableLayouts.map((layout=>{const config=VIEW_LAYOUTS.find((v=>v.type===layout));return config?(0,jsx_runtime.jsx)(dataviews_view_config_DropdownMenuV2.RadioItem,{value:layout,name:"view-actions-available-view",checked:layout===view.type,hideOnClick:!0,onChange:e=>{switch(e.target.value){case"list":case"grid":case"table":return onChangeView({...view,type:e.target.value,...defaultLayouts[e.target.value]})}!0===globalThis.SCRIPT_DEBUG&&(0,warning_build_module.Z)("Invalid dataview")},children:(0,jsx_runtime.jsx)(dataviews_view_config_DropdownMenuV2.ItemLabel,{children:config.label})},layout):null}))})}function SortFieldControl(){const{view,fields,onChangeView}=(0,react.useContext)(dataviews_context),orderOptions=(0,react.useMemo)((()=>fields.filter((field=>!1!==field.enableSorting)).map((field=>({label:field.label,value:field.id})))),[fields]);return(0,jsx_runtime.jsx)(select_control.Z,{__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0,label:(0,build_module.__)("Sort by"),value:view.sort?.field,options:orderOptions,onChange:value=>{onChangeView({...view,sort:{direction:view?.sort?.direction||"desc",field:value}})}})}function SortDirectionControl(){const{view,fields,onChangeView}=(0,react.useContext)(dataviews_context);if(0===fields.filter((field=>!1!==field.enableSorting)).length)return null;let value=view.sort?.direction;return!value&&view.sort?.field&&(value="desc"),(0,jsx_runtime.jsx)(toggle_group_control_component.Z,{className:"dataviews-view-config__sort-direction",__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0,isBlock:!0,label:(0,build_module.__)("Order"),value,onChange:newDirection=>{"asc"!==newDirection&&"desc"!==newDirection?!0===globalThis.SCRIPT_DEBUG&&(0,warning_build_module.Z)("Invalid direction"):onChangeView({...view,sort:{direction:newDirection,field:view.sort?.field||fields.find((field=>!1!==field.enableSorting))?.id||""}})},children:SORTING_DIRECTIONS.map((direction=>(0,jsx_runtime.jsx)(toggle_group_control_option_icon_component.Z,{value:direction,icon:sortIcons[direction],label:sortLabels[direction]},direction)))})}ViewTypeMenu.displayName="ViewTypeMenu",SortFieldControl.displayName="SortFieldControl",SortDirectionControl.displayName="SortDirectionControl";const PAGE_SIZE_VALUES=[10,20,50,100];function ItemsPerPageControl(){const{view,onChangeView}=(0,react.useContext)(dataviews_context);return(0,jsx_runtime.jsx)(toggle_group_control_component.Z,{__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0,isBlock:!0,label:(0,build_module.__)("Items per page"),value:view.perPage||10,disabled:!view?.sort?.field,onChange:newItemsPerPage=>{const newItemsPerPageNumber="number"==typeof newItemsPerPage||void 0===newItemsPerPage?newItemsPerPage:parseInt(newItemsPerPage,10);onChangeView({...view,perPage:newItemsPerPageNumber,page:1})},children:PAGE_SIZE_VALUES.map((value=>(0,jsx_runtime.jsx)(toggle_group_control_option_component.Z,{value,label:value.toString()},value)))})}function FieldItem({fields,fieldId,mandatoryFields,viewFields,view,onChangeView}){let fieldLabel,fieldIsHidable;const fieldObject=fields.find((f=>f.id===fieldId));if(fieldObject)fieldLabel=fieldObject.label,fieldIsHidable=!1!==fieldObject.enableHiding&&!mandatoryFields.includes(fieldId);else if(view.type===LAYOUT_TABLE){const combinedFieldObject=view.layout?.combinedFields?.find((f=>f.id===fieldId));combinedFieldObject&&(fieldLabel=combinedFieldObject.label,fieldIsHidable=!mandatoryFields.includes(fieldId))}const index=view.fields?.indexOf(fieldId),isVisible=viewFields.includes(fieldId);return(0,jsx_runtime.jsx)(item_component.Z,{children:(0,jsx_runtime.jsxs)(component.Z,{expanded:!0,className:`dataviews-field-control__field dataviews-field-control__field-${fieldId}`,children:[(0,jsx_runtime.jsx)("span",{children:fieldLabel}),(0,jsx_runtime.jsxs)(component.Z,{justify:"flex-end",expanded:!1,className:"dataviews-field-control__actions",children:[view.type===LAYOUT_TABLE&&isVisible&&(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)(build_module_button.ZP,{disabled:!isVisible||index<1,accessibleWhenDisabled:!0,size:"compact",onClick:()=>{var _view$fields$slice;!view.fields||index<1||onChangeView({...view,fields:[...null!==(_view$fields$slice=view.fields.slice(0,index-1))&&void 0!==_view$fields$slice?_view$fields$slice:[],fieldId,view.fields[index-1],...view.fields.slice(index+1)]})},icon:chevron_up.Z,label:(0,build_module.gB)((0,build_module.__)("Move %s up"),fieldLabel)}),(0,jsx_runtime.jsx)(build_module_button.ZP,{disabled:!isVisible||!view.fields||index>=view.fields.length-1,accessibleWhenDisabled:!0,size:"compact",onClick:()=>{var _view$fields$slice2;!view.fields||index>=view.fields.length-1||onChangeView({...view,fields:[...null!==(_view$fields$slice2=view.fields.slice(0,index))&&void 0!==_view$fields$slice2?_view$fields$slice2:[],view.fields[index+1],fieldId,...view.fields.slice(index+2)]})},icon:chevron_down.Z,label:(0,build_module.gB)((0,build_module.__)("Move %s down"),fieldLabel)})," "]}),(0,jsx_runtime.jsx)(build_module_button.ZP,{className:"dataviews-field-control__field-visibility-button",disabled:!fieldIsHidable,accessibleWhenDisabled:!0,size:"compact",onClick:()=>{onChangeView({...view,fields:isVisible?viewFields.filter((id=>id!==fieldId)):[...viewFields,fieldId]}),setTimeout((()=>{const element=document.querySelector(`.dataviews-field-control__field-${fieldId} .dataviews-field-control__field-visibility-button`);element instanceof HTMLElement&&element.focus()}),50)},icon:isVisible?seen.Z:unseen.Z,label:isVisible?(0,build_module.gB)((0,build_module.__)("Hide %s"),fieldLabel):(0,build_module.gB)((0,build_module.__)("Show %s"),fieldLabel)})]})]})},fieldId)}function FieldList({fields,fieldIds,mandatoryFields,viewFields,view,onChangeView}){return fieldIds.map((fieldId=>(0,jsx_runtime.jsx)(FieldItem,{fields,fieldId,mandatoryFields,viewFields,view,onChangeView},fieldId)))}function FieldControl(){const{view,fields,onChangeView}=(0,react.useContext)(dataviews_context),mandatoryFields=(0,react.useMemo)((()=>function getMandatoryFields(view){var _view$layout$combined;return"table"===view.type?[view.layout?.primaryField].concat(null!==(_view$layout$combined=view.layout?.combinedFields?.flatMap((field=>field.children)))&&void 0!==_view$layout$combined?_view$layout$combined:[]).filter((item=>!!item)):"grid"===view.type||"list"===view.type?[view.layout?.primaryField,view.layout?.mediaField].filter((item=>!!item)):[]}(view)),[view]),viewFields=view.fields||fields.map((field=>field.id)),visibleFields=view.fields,hiddenFields=(0,react.useMemo)((()=>{const nonViewFieldsList=fields.filter((field=>!viewFields.includes(field.id)&&!mandatoryFields?.includes(field.id))).map((field=>field.id));if(view.type!==LAYOUT_TABLE)return nonViewFieldsList;return[...nonViewFieldsList.filter((fieldId=>!view.layout?.combinedFields?.some((combinedField=>combinedField.children.includes(fieldId))))),...view.layout?.combinedFields?.filter((combinedField=>!viewFields.includes(combinedField.id))).map((combinedField=>combinedField.id))||[]]}),[view,mandatoryFields,fields,viewFields]);return visibleFields?.length||hiddenFields?.length?(0,jsx_runtime.jsxs)(v_stack_component.Z,{spacing:6,className:"dataviews-field-control",children:[!!visibleFields?.length&&(0,jsx_runtime.jsx)(item_group_component.Z,{isBordered:!0,isSeparated:!0,children:(0,jsx_runtime.jsx)(FieldList,{fields,fieldIds:visibleFields,mandatoryFields,viewFields,view,onChangeView})}),!!hiddenFields?.length&&(0,jsx_runtime.jsx)(jsx_runtime.Fragment,{children:(0,jsx_runtime.jsxs)(v_stack_component.Z,{spacing:4,children:[(0,jsx_runtime.jsx)(base_control.ZP.VisualLabel,{style:{margin:0},children:(0,build_module.__)("Hidden")}),(0,jsx_runtime.jsx)(item_group_component.Z,{isBordered:!0,isSeparated:!0,children:(0,jsx_runtime.jsx)(FieldList,{fields,fieldIds:hiddenFields,mandatoryFields,viewFields,view,onChangeView})})]})})]}):null}function SettingsSection({title,description,children}){return(0,jsx_runtime.jsxs)(grid_component.Z,{columns:12,className:"dataviews-settings-section",gap:4,children:[(0,jsx_runtime.jsxs)("div",{className:"dataviews-settings-section__sidebar",children:[(0,jsx_runtime.jsx)(heading_component.Z,{level:2,className:"dataviews-settings-section__title",children:title}),description&&(0,jsx_runtime.jsx)(text_component.Z,{variant:"muted",className:"dataviews-settings-section__description",children:description})]}),(0,jsx_runtime.jsx)(grid_component.Z,{columns:8,gap:4,className:"dataviews-settings-section__content",children})]})}function DataviewsViewConfigContent({density,setDensity}){const{view}=(0,react.useContext)(dataviews_context);return(0,jsx_runtime.jsxs)(v_stack_component.Z,{className:"dataviews-view-config",spacing:6,children:[(0,jsx_runtime.jsxs)(SettingsSection,{title:(0,build_module.__)("Appearance"),children:[(0,jsx_runtime.jsxs)(component.Z,{expanded:!0,className:"is-divided-in-two",children:[(0,jsx_runtime.jsx)(SortFieldControl,{}),(0,jsx_runtime.jsx)(SortDirectionControl,{})]}),view.type===LAYOUT_GRID&&(0,jsx_runtime.jsx)(DensityPicker,{density,setDensity}),(0,jsx_runtime.jsx)(ItemsPerPageControl,{})]}),(0,jsx_runtime.jsx)(SettingsSection,{title:(0,build_module.__)("Properties"),children:(0,jsx_runtime.jsx)(FieldControl,{})})]})}ItemsPerPageControl.displayName="ItemsPerPageControl",FieldItem.displayName="FieldItem",FieldControl.displayName="FieldControl",SettingsSection.displayName="SettingsSection",DataviewsViewConfigContent.displayName="DataviewsViewConfigContent";const dataviews_view_config=(0,react.memo)((function _DataViewsViewConfig({density,setDensity,defaultLayouts={list:{},grid:{},table:{}}}){const[isShowingViewPopover,setIsShowingViewPopover]=(0,react.useState)(!1);return(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)(ViewTypeMenu,{defaultLayouts}),(0,jsx_runtime.jsxs)("div",{children:[(0,jsx_runtime.jsx)(build_module_button.ZP,{size:"compact",icon:cog.Z,label:(0,build_module._x)("View options","View is used as a noun"),onClick:()=>setIsShowingViewPopover(!0)}),isShowingViewPopover&&(0,jsx_runtime.jsx)(popover.ZP,{placement:"bottom-end",onClose:()=>{setIsShowingViewPopover(!1)},focusOnMount:!0,children:(0,jsx_runtime.jsx)(DataviewsViewConfigContent,{density,setDensity})})]})]})}));var normalize_fields=__webpack_require__("./packages/dataviews/src/normalize-fields.ts");const defaultGetItemId=item=>item.id;function DataViews({view,onChangeView,fields,search=!0,searchLabel,actions=[],data,getItemId=defaultGetItemId,isLoading=!1,paginationInfo,defaultLayouts,selection:selectionProperty,onChangeSelection,header}){const[selectionState,setSelectionState]=(0,react.useState)([]),[density,setDensity]=(0,react.useState)(0),isUncontrolled=void 0===selectionProperty||void 0===onChangeSelection,selection=isUncontrolled?selectionState:selectionProperty,[openedFilter,setOpenedFilter]=(0,react.useState)(null);const _fields=(0,react.useMemo)((()=>(0,normalize_fields.U)(fields)),[fields]),_selection=(0,react.useMemo)((()=>selection.filter((id=>data.some((item=>getItemId(item)===id))))),[selection,data,getItemId]),filters=useFilters(_fields,view),[isShowingFilter,setIsShowingFilter]=(0,react.useState)((()=>(filters||[]).some((filter=>filter.isPrimary))));return(0,jsx_runtime.jsx)(dataviews_context.Provider,{value:{view,onChangeView,fields:_fields,actions,data,isLoading,paginationInfo,selection:_selection,onChangeSelection:function setSelectionWithChange(value){const newValue="function"==typeof value?value(selection):value;isUncontrolled&&setSelectionState(newValue),onChangeSelection&&onChangeSelection(newValue)},openedFilter,setOpenedFilter,getItemId,density},children:(0,jsx_runtime.jsxs)("div",{className:"dataviews-wrapper",children:[(0,jsx_runtime.jsxs)(component.Z,{alignment:"top",justify:"space-between",className:"dataviews__view-actions",spacing:1,children:[(0,jsx_runtime.jsxs)(component.Z,{justify:"start",expanded:!1,className:"dataviews__search",children:[search&&(0,jsx_runtime.jsx)(dataviews_search,{label:searchLabel}),(0,jsx_runtime.jsx)(FilterVisibilityToggle,{filters,view,onChangeView,setOpenedFilter,setIsShowingFilter,isShowingFilter})]}),(0,jsx_runtime.jsxs)(component.Z,{spacing:1,expanded:!1,style:{flexShrink:0},children:[(0,jsx_runtime.jsx)(dataviews_view_config,{defaultLayouts,density,setDensity}),header]})]}),isShowingFilter&&(0,jsx_runtime.jsx)(dataviews_filters,{}),(0,jsx_runtime.jsx)(DataViewsLayout,{}),(0,jsx_runtime.jsx)(DataViewsFooter,{})]})})}DataViews.displayName="DataViews";try{dataviews.displayName="dataviews",dataviews.__docgenInfo={description:"",displayName:"dataviews",props:{view:{defaultValue:null,description:"",name:"view",required:!0,type:{name:"View"}},onChangeView:{defaultValue:null,description:"",name:"onChangeView",required:!0,type:{name:"(view: View) => void"}},fields:{defaultValue:null,description:"",name:"fields",required:!0,type:{name:"Field<Item>[]"}},search:{defaultValue:{value:"true"},description:"",name:"search",required:!1,type:{name:"boolean"}},searchLabel:{defaultValue:{value:"undefined"},description:"",name:"searchLabel",required:!1,type:{name:"string"}},actions:{defaultValue:{value:"[]"},description:"",name:"actions",required:!1,type:{name:"Action<Item>[]"}},data:{defaultValue:null,description:"",name:"data",required:!0,type:{name:"Item[]"}},isLoading:{defaultValue:{value:"false"},description:"",name:"isLoading",required:!1,type:{name:"boolean"}},paginationInfo:{defaultValue:null,description:"",name:"paginationInfo",required:!0,type:{name:"{ totalItems: number; totalPages: number; }"}},defaultLayouts:{defaultValue:null,description:"",name:"defaultLayouts",required:!0,type:{name:"SupportedLayouts"}},selection:{defaultValue:null,description:"",name:"selection",required:!1,type:{name:"string[]"}},onChangeSelection:{defaultValue:null,description:"",name:"onChangeSelection",required:!1,type:{name:"(items: string[]) => void"}},header:{defaultValue:null,description:"",name:"header",required:!1,type:{name:"ReactNode"}},getItemId:{defaultValue:{value:"( item: ItemWithId ) => item.id"},description:"",name:"getItemId",required:!1,type:{name:"((item: Item) => string) | ((item: Item) => string)"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/dataviews/src/components/dataviews/index.tsx#dataviews"]={docgenInfo:dataviews.__docgenInfo,name:"dataviews",path:"packages/dataviews/src/components/dataviews/index.tsx#dataviews"})}catch(__react_docgen_typescript_loader_error){}var trash=__webpack_require__("./packages/icons/build-module/library/trash.js"),build_module_icon=__webpack_require__("./packages/icons/build-module/icon/index.js"),library_image=__webpack_require__("./packages/icons/build-module/library/image.js");const data=[{id:1,title:"Apollo",description:"Apollo description",image:"https://live.staticflickr.com/5725/21726228300_51333bd62c_b.jpg",type:"Not a planet",categories:["Space","NASA"],satellites:0,date:"2021-01-01T00:00:00Z"},{id:2,title:"Space",description:"Space description",image:"https://live.staticflickr.com/5678/21911065441_92e2d44708_b.jpg",type:"Not a planet",categories:["Space"],satellites:0,date:"2019-01-02T00:00:00Z"},{id:3,title:"NASA",description:"NASA photo",image:"https://live.staticflickr.com/742/21712365770_8f70a2c91e_b.jpg",type:"Not a planet",categories:["NASA"],satellites:0,date:"2025-01-03T00:00:00Z"},{id:4,title:"Neptune",description:"Neptune description",image:"https://live.staticflickr.com/5725/21726228300_51333bd62c_b.jpg",type:"Ice giant",categories:["Space","Planet","Solar system"],satellites:14,date:"2020-01-01T00:00:00Z"},{id:5,title:"Mercury",description:"Mercury description",image:"https://live.staticflickr.com/5725/21726228300_51333bd62c_b.jpg",type:"Terrestrial",categories:["Space","Planet","Solar system"],satellites:0,date:"2020-01-02T01:00:00Z"},{id:6,title:"Venus",description:"La planète Vénus",image:"https://live.staticflickr.com/5725/21726228300_51333bd62c_b.jpg",type:"Terrestrial",categories:["Space","Planet","Solar system"],satellites:0,date:"2020-01-02T00:00:00Z"},{id:7,title:"Earth",description:"Earth description",image:"https://live.staticflickr.com/5725/21726228300_51333bd62c_b.jpg",type:"Terrestrial",categories:["Space","Planet","Solar system"],satellites:1,date:"2023-01-03T00:00:00Z"},{id:8,title:"Mars",description:"Mars description",image:"https://live.staticflickr.com/5725/21726228300_51333bd62c_b.jpg",type:"Terrestrial",categories:["Space","Planet","Solar system"],satellites:2,date:"2020-01-01T00:00:00Z"},{id:9,title:"Jupiter",description:"Jupiter description",image:"https://live.staticflickr.com/5725/21726228300_51333bd62c_b.jpg",type:"Gas giant",categories:["Space","Planet","Solar system"],satellites:95,date:"2017-01-01T00:01:00Z"},{id:10,title:"Saturn",description:"Saturn description",image:"https://live.staticflickr.com/5725/21726228300_51333bd62c_b.jpg",type:"Gas giant",categories:["Space","Planet","Solar system"],satellites:146,date:"2020-02-01T00:02:00Z"},{id:11,title:"Uranus",description:"Uranus description",image:"https://live.staticflickr.com/5725/21726228300_51333bd62c_b.jpg",type:"Ice giant",categories:["Space","Ice giant","Solar system"],satellites:28,date:"2020-03-01T00:00:00Z"}],DEFAULT_VIEW={type:LAYOUT_TABLE,search:"",page:1,perPage:10,fields:["title","description","categories"],layout:{},filters:[]},actions=[{id:"delete",label:"Delete item",isPrimary:!0,icon:trash.Z,hideModalHeader:!0,RenderModal:({items,closeModal})=>(0,jsx_runtime.jsxs)(v_stack_component.Z,{spacing:"5",children:[(0,jsx_runtime.jsx)(text_component.Z,{children:`Are you sure you want to delete "${items[0].title}"?`}),(0,jsx_runtime.jsxs)(component.Z,{justify:"right",children:[(0,jsx_runtime.jsx)(build_module_button.ZP,{__next40pxDefaultSize:!0,variant:"tertiary",onClick:closeModal,children:"Cancel"}),(0,jsx_runtime.jsx)(build_module_button.ZP,{__next40pxDefaultSize:!0,variant:"primary",onClick:closeModal,children:"Delete"})]})]})},{id:"secondary",label:"Secondary action",callback(){}}],fields=[{label:"Image",id:"image",header:(0,jsx_runtime.jsxs)(component.Z,{spacing:1,justify:"start",children:[(0,jsx_runtime.jsx)(build_module_icon.Z,{icon:library_image.Z}),(0,jsx_runtime.jsx)("span",{children:"Image"})]}),render:({item})=>(0,jsx_runtime.jsx)("img",{src:item.image,alt:"",style:{width:"100%"}}),enableSorting:!1},{label:"Title",id:"title",enableHiding:!1,enableGlobalSearch:!0,render:({item})=>(0,jsx_runtime.jsx)("a",{href:"#nothing",children:item.title})},{id:"date",label:"Date",type:"datetime"},{label:"Type",id:"type",enableHiding:!1,elements:[{value:"Not a planet",label:"Not a planet"},{value:"Ice giant",label:"Ice giant"},{value:"Terrestrial",label:"Terrestrial"},{value:"Gas giant",label:"Gas giant"}]},{label:"Satellites",id:"satellites",type:"integer",enableSorting:!0},{label:"Description",id:"description",enableSorting:!1,enableGlobalSearch:!0},{label:"Categories",id:"categories",header:(0,jsx_runtime.jsxs)(component.Z,{spacing:1,justify:"start",children:[(0,jsx_runtime.jsx)(build_module_icon.Z,{icon:category.Z}),(0,jsx_runtime.jsx)("span",{children:"Categories"})]}),elements:[{value:"Space",label:"Space"},{value:"NASA",label:"NASA"},{value:"Planet",label:"Planet"},{value:"Solar system",label:"Solar system"},{value:"Ice giant",label:"Ice giant"}],filterBy:{operators:["isAny","isNone","isAll","isNotAll"]},getValue:({item})=>item.categories,render:({item})=>item.categories.join(","),enableSorting:!1}];function filter_and_sort_data_view_normalizeSearchInput(input=""){return remove_accents_default()(input.trim().toLowerCase())}const filter_and_sort_data_view_EMPTY_ARRAY=[];const index_story={title:"DataViews/DataViews",component:DataViews,parameters:{sourceLink:"packages/dataviews/src/components/dataviews",badges:[]}},Default=props=>{const[view,setView]=(0,react.useState)(DEFAULT_VIEW),{data:shownData,paginationInfo}=(0,react.useMemo)((()=>function filterSortAndPaginate(data,view,fields){if(!data)return{data:filter_and_sort_data_view_EMPTY_ARRAY,paginationInfo:{totalItems:0,totalPages:0}};const _fields=(0,normalize_fields.U)(fields);let filteredData=[...data];if(view.search){const normalizedSearch=filter_and_sort_data_view_normalizeSearchInput(view.search);filteredData=filteredData.filter((item=>_fields.filter((field=>field.enableGlobalSearch)).map((field=>filter_and_sort_data_view_normalizeSearchInput(field.getValue({item})))).some((field=>field.includes(normalizedSearch)))))}if(view.filters&&view.filters?.length>0&&view.filters.forEach((filter=>{const field=_fields.find((_field=>_field.id===filter.field));field&&(filter.operator===OPERATOR_IS_ANY&&filter?.value?.length>0?filteredData=filteredData.filter((item=>{const fieldValue=field.getValue({item});return Array.isArray(fieldValue)?filter.value.some((filterValue=>fieldValue.includes(filterValue))):"string"==typeof fieldValue&&filter.value.includes(fieldValue)})):filter.operator===OPERATOR_IS_NONE&&filter?.value?.length>0?filteredData=filteredData.filter((item=>{const fieldValue=field.getValue({item});return Array.isArray(fieldValue)?!filter.value.some((filterValue=>fieldValue.includes(filterValue))):"string"==typeof fieldValue&&!filter.value.includes(fieldValue)})):"isAll"===filter.operator&&filter?.value?.length>0?filteredData=filteredData.filter((item=>filter.value.every((value=>field.getValue({item})?.includes(value))))):"isNotAll"===filter.operator&&filter?.value?.length>0?filteredData=filteredData.filter((item=>filter.value.every((value=>!field.getValue({item})?.includes(value))))):filter.operator===OPERATOR_IS?filteredData=filteredData.filter((item=>filter.value===field.getValue({item}))):filter.operator===OPERATOR_IS_NOT&&(filteredData=filteredData.filter((item=>filter.value!==field.getValue({item})))))})),view.sort){const fieldId=view.sort.field,fieldToSort=_fields.find((field=>field.id===fieldId));fieldToSort&&filteredData.sort(((a,b)=>{var _view$sort$direction;return fieldToSort.sort(a,b,null!==(_view$sort$direction=view.sort?.direction)&&void 0!==_view$sort$direction?_view$sort$direction:"desc")}))}let totalItems=filteredData.length,totalPages=1;if(void 0!==view.page&&void 0!==view.perPage){const start=(view.page-1)*view.perPage;totalItems=filteredData?.length||0,totalPages=Math.ceil(totalItems/view.perPage),filteredData=filteredData?.slice(start,start+view.perPage)}return{data:filteredData,paginationInfo:{totalItems,totalPages}}}(data,view,fields)),[view]);return(0,jsx_runtime.jsx)(DataViews,{...props,paginationInfo,data:shownData,view,fields,onChangeView:setView})};Default.displayName="Default",Default.args={actions,defaultLayouts:{[LAYOUT_TABLE]:{layout:{primaryField:"title",styles:{image:{width:50},title:{maxWidth:400},type:{maxWidth:400},description:{maxWidth:200}}}},[LAYOUT_GRID]:{layout:{mediaField:"image",primaryField:"title"}},[LAYOUT_LIST]:{layout:{mediaField:"image",primaryField:"title"}}}},Default.parameters={...Default.parameters,docs:{...Default.parameters?.docs,source:{originalSource:"props => {\n  const [view, setView] = useState(DEFAULT_VIEW);\n  const {\n    data: shownData,\n    paginationInfo\n  } = useMemo(() => {\n    return filterSortAndPaginate(data, view, fields);\n  }, [view]);\n  return <DataViews {...props} paginationInfo={paginationInfo} data={shownData} view={view} fields={fields} onChangeView={setView} />;\n}",...Default.parameters?.docs?.source}}}}}]);