"use strict";(globalThis.webpackChunkgutenberg=globalThis.webpackChunkgutenberg||[]).push([[7196],{"./packages/icons/build-module/library/swatch.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var _wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/primitives/build-module/svg/index.js"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/jsx-runtime.js");const __WEBPACK_DEFAULT_EXPORT__=(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__.Wj,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__.y$,{d:"M5 17.7c.4.5.8.9 1.2 1.2l1.1-1.4c-.4-.3-.7-.6-1-1L5 17.7zM5 6.3l1.4 1.1c.3-.4.6-.7 1-1L6.3 5c-.5.4-.9.8-1.3 1.3zm.1 7.8l-1.7.5c.2.6.4 1.1.7 1.6l1.5-.8c-.2-.4-.4-.8-.5-1.3zM4.8 12v-.7L3 11.1v1.8l1.7-.2c.1-.2.1-.5.1-.7zm3 7.9c.5.3 1.1.5 1.6.7l.5-1.7c-.5-.1-.9-.3-1.3-.5l-.8 1.5zM19 6.3c-.4-.5-.8-.9-1.2-1.2l-1.1 1.4c.4.3.7.6 1 1L19 6.3zm-.1 3.6l1.7-.5c-.2-.6-.4-1.1-.7-1.6l-1.5.8c.2.4.4.8.5 1.3zM5.6 8.6l-1.5-.8c-.3.5-.5 1-.7 1.6l1.7.5c.1-.5.3-.9.5-1.3zm2.2-4.5l.8 1.5c.4-.2.8-.4 1.3-.5l-.5-1.7c-.6.2-1.1.4-1.6.7zm8.8 13.5l1.1 1.4c.5-.4.9-.8 1.2-1.2l-1.4-1.1c-.2.3-.5.6-.9.9zm1.8-2.2l1.5.8c.3-.5.5-1.1.7-1.6l-1.7-.5c-.1.5-.3.9-.5 1.3zm2.6-4.3l-1.7.2v1.4l1.7.2V12v-.9zM11.1 3l.2 1.7h1.4l.2-1.7h-1.8zm3 2.1c.5.1.9.3 1.3.5l.8-1.5c-.5-.3-1.1-.5-1.6-.7l-.5 1.7zM12 19.2h-.7l-.2 1.8h1.8l-.2-1.7c-.2-.1-.5-.1-.7-.1zm2.1-.3l.5 1.7c.6-.2 1.1-.4 1.6-.7l-.8-1.5c-.4.2-.8.4-1.3.5z"})})},"./packages/components/src/color-indicator/index.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var clsx__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/clsx/dist/clsx.mjs"),_wordpress_element__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/react/index.js"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/jsx-runtime.js");function UnforwardedColorIndicator(props,forwardedRef){const{className,colorValue,...additionalProps}=props;return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span",{className:(0,clsx__WEBPACK_IMPORTED_MODULE_1__.Z)("component-color-indicator",className),style:{background:colorValue},ref:forwardedRef,...additionalProps})}UnforwardedColorIndicator.displayName="UnforwardedColorIndicator";const ColorIndicator=(0,_wordpress_element__WEBPACK_IMPORTED_MODULE_2__.forwardRef)(UnforwardedColorIndicator),__WEBPACK_DEFAULT_EXPORT__=ColorIndicator;try{ColorIndicator.displayName="ColorIndicator",ColorIndicator.__docgenInfo={description:"ColorIndicator is a React component that renders a specific color in a\ncircle. It's often used to summarize a collection of used colors in a child\ncomponent.\n\n```jsx\nimport { ColorIndicator } from '@wordpress/components';\n\nconst MyColorIndicator = () => <ColorIndicator colorValue=\"#0073aa\" />;\n```",displayName:"ColorIndicator",props:{colorValue:{defaultValue:null,description:"The color of the indicator. Any value from the CSS `background` property\nis supported.",name:"colorValue",required:!0,type:{name:"Background<string | number>"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/components/src/color-indicator/index.tsx#ColorIndicator"]={docgenInfo:ColorIndicator.__docgenInfo,name:"ColorIndicator",path:"packages/components/src/color-indicator/index.tsx#ColorIndicator"})}catch(__react_docgen_typescript_loader_error){}try{colorindicator.displayName="colorindicator",colorindicator.__docgenInfo={description:"ColorIndicator is a React component that renders a specific color in a\ncircle. It's often used to summarize a collection of used colors in a child\ncomponent.\n\n```jsx\nimport { ColorIndicator } from '@wordpress/components';\n\nconst MyColorIndicator = () => <ColorIndicator colorValue=\"#0073aa\" />;\n```",displayName:"colorindicator",props:{colorValue:{defaultValue:null,description:"The color of the indicator. Any value from the CSS `background` property\nis supported.",name:"colorValue",required:!0,type:{name:"Background<string | number>"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/components/src/color-indicator/index.tsx#colorindicator"]={docgenInfo:colorindicator.__docgenInfo,name:"colorindicator",path:"packages/components/src/color-indicator/index.tsx#colorindicator"})}catch(__react_docgen_typescript_loader_error){}},"./packages/components/src/custom-gradient-picker/gradient-bar/index.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>CustomGradientBar});var clsx=__webpack_require__("./node_modules/clsx/dist/clsx.mjs"),react=__webpack_require__("./node_modules/react/index.js"),colord=__webpack_require__("./node_modules/colord/index.mjs"),use_instance_id=__webpack_require__("./packages/compose/build-module/hooks/use-instance-id/index.js"),build_module=__webpack_require__("./packages/i18n/build-module/index.js"),plus=__webpack_require__("./packages/icons/build-module/library/plus.js"),src_button=__webpack_require__("./packages/components/src/button/index.tsx"),component=__webpack_require__("./packages/components/src/h-stack/component.tsx"),legacy_adapter=__webpack_require__("./packages/components/src/color-picker/legacy-adapter.tsx"),visually_hidden_component=__webpack_require__("./packages/components/src/visually-hidden/component.tsx"),color_palette=__webpack_require__("./packages/components/src/color-palette/index.tsx");const MINIMUM_DISTANCE_BETWEEN_INSERTER_AND_POINT=10,MINIMUM_DISTANCE_BETWEEN_POINTS=0,KEYBOARD_CONTROL_POINT_VARIATION=MINIMUM_DISTANCE_BETWEEN_INSERTER_AND_POINT;function clampPercent(value){return Math.max(0,Math.min(100,value))}function updateControlPoint(points,index,newPoint){const newValue=points.slice();return newValue[index]=newPoint,newValue}function updateControlPointPosition(points,index,newPosition){if(function isOverlapping(value,initialIndex,newPosition,minDistance=MINIMUM_DISTANCE_BETWEEN_POINTS){const initialPosition=value[initialIndex].position,minPosition=Math.min(initialPosition,newPosition),maxPosition=Math.max(initialPosition,newPosition);return value.some((({position},index)=>index!==initialIndex&&(Math.abs(position-newPosition)<minDistance||minPosition<position&&position<maxPosition)))}(points,index,newPosition))return points;return updateControlPoint(points,index,{...points[index],position:newPosition})}function updateControlPointColor(points,index,newColor){return updateControlPoint(points,index,{...points[index],color:newColor})}function getHorizontalRelativeGradientPosition(mouseXCoordinate,containerElement){if(!containerElement)return;const{x,width}=containerElement.getBoundingClientRect(),absolutePositionValue=mouseXCoordinate-x;return Math.round(clampPercent(100*absolutePositionValue/width))}var dropdown_content_wrapper=__webpack_require__("./packages/components/src/dropdown/dropdown-content-wrapper.tsx"),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js");function ControlPointButton({isOpen,position,color,...additionalProps}){const descriptionId=`components-custom-gradient-picker__control-point-button-description-${(0,use_instance_id.Z)(ControlPointButton)}`;return(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)(src_button.ZP,{"aria-label":(0,build_module.gB)((0,build_module.__)("Gradient control point at position %1$s%% with color code %2$s."),position,color),"aria-describedby":descriptionId,"aria-haspopup":"true","aria-expanded":isOpen,className:(0,clsx.Z)("components-custom-gradient-picker__control-point-button",{"is-active":isOpen}),...additionalProps}),(0,jsx_runtime.jsx)(visually_hidden_component.Z,{id:descriptionId,children:(0,build_module.__)("Use your left or right arrow keys or drag and drop with the mouse to change the gradient position. Press the button to change the color or remove the control point.")})]})}function GradientColorPickerDropdown({isRenderedInSidebar,className,...props}){const popoverProps=(0,react.useMemo)((()=>({placement:"bottom",offset:8,resize:!1})),[]),mergedClassName=(0,clsx.Z)("components-custom-gradient-picker__control-point-dropdown",className);return(0,jsx_runtime.jsx)(color_palette.qK,{isRenderedInSidebar,popoverProps,className:mergedClassName,...props})}function ControlPoints({disableRemove,disableAlpha,gradientPickerDomRef,ignoreMarkerPosition,value:controlPoints,onChange,onStartControlPointChange,onStopControlPointChange,__experimentalIsRenderedInSidebar}){const controlPointMoveStateRef=(0,react.useRef)(),onMouseMove=event=>{if(void 0===controlPointMoveStateRef.current||null===gradientPickerDomRef.current)return;const relativePosition=getHorizontalRelativeGradientPosition(event.clientX,gradientPickerDomRef.current),{initialPosition,index,significantMoveHappened}=controlPointMoveStateRef.current;!significantMoveHappened&&Math.abs(initialPosition-relativePosition)>=5&&(controlPointMoveStateRef.current.significantMoveHappened=!0),onChange(updateControlPointPosition(controlPoints,index,relativePosition))},cleanEventListeners=()=>{window&&window.removeEventListener&&controlPointMoveStateRef.current&&controlPointMoveStateRef.current.listenersActivated&&(window.removeEventListener("mousemove",onMouseMove),window.removeEventListener("mouseup",cleanEventListeners),onStopControlPointChange(),controlPointMoveStateRef.current.listenersActivated=!1)},cleanEventListenersRef=(0,react.useRef)();return cleanEventListenersRef.current=cleanEventListeners,(0,react.useEffect)((()=>()=>{cleanEventListenersRef.current?.()}),[]),(0,jsx_runtime.jsx)(jsx_runtime.Fragment,{children:controlPoints.map(((point,index)=>{const initialPosition=point?.position;return ignoreMarkerPosition!==initialPosition&&(0,jsx_runtime.jsx)(GradientColorPickerDropdown,{isRenderedInSidebar:__experimentalIsRenderedInSidebar,onClose:onStopControlPointChange,renderToggle:({isOpen,onToggle})=>(0,jsx_runtime.jsx)(ControlPointButton,{onClick:()=>{controlPointMoveStateRef.current&&controlPointMoveStateRef.current.significantMoveHappened||(isOpen?onStopControlPointChange():onStartControlPointChange(),onToggle())},onMouseDown:()=>{window&&window.addEventListener&&(controlPointMoveStateRef.current={initialPosition,index,significantMoveHappened:!1,listenersActivated:!0},onStartControlPointChange(),window.addEventListener("mousemove",onMouseMove),window.addEventListener("mouseup",cleanEventListeners))},onKeyDown:event=>{"ArrowLeft"===event.code?(event.stopPropagation(),onChange(updateControlPointPosition(controlPoints,index,clampPercent(point.position-KEYBOARD_CONTROL_POINT_VARIATION)))):"ArrowRight"===event.code&&(event.stopPropagation(),onChange(updateControlPointPosition(controlPoints,index,clampPercent(point.position+KEYBOARD_CONTROL_POINT_VARIATION))))},isOpen,position:point.position,color:point.color},index),renderContent:({onClose})=>(0,jsx_runtime.jsxs)(dropdown_content_wrapper.Z,{paddingSize:"none",children:[(0,jsx_runtime.jsx)(legacy_adapter.A,{enableAlpha:!disableAlpha,color:point.color,onChange:color=>{onChange(updateControlPointColor(controlPoints,index,(0,colord.Vi)(color).toRgbString()))}}),!disableRemove&&controlPoints.length>2&&(0,jsx_runtime.jsx)(component.Z,{className:"components-custom-gradient-picker__remove-control-point-wrapper",alignment:"center",children:(0,jsx_runtime.jsx)(src_button.ZP,{onClick:()=>{onChange(function removeControlPoint(points,index){return points.filter(((_point,pointIndex)=>pointIndex!==index))}(controlPoints,index)),onClose()},variant:"link",children:(0,build_module.__)("Remove Control Point")})})]}),style:{left:`${point.position}%`,transform:"translateX( -50% )"}},index)}))})}function InsertPoint({value:controlPoints,onChange,onOpenInserter,onCloseInserter,insertPosition,disableAlpha,__experimentalIsRenderedInSidebar}){const[alreadyInsertedPoint,setAlreadyInsertedPoint]=(0,react.useState)(!1);return(0,jsx_runtime.jsx)(GradientColorPickerDropdown,{isRenderedInSidebar:__experimentalIsRenderedInSidebar,className:"components-custom-gradient-picker__inserter",onClose:()=>{onCloseInserter()},renderToggle:({isOpen,onToggle})=>(0,jsx_runtime.jsx)(src_button.ZP,{"aria-expanded":isOpen,"aria-haspopup":"true",onClick:()=>{isOpen?onCloseInserter():(setAlreadyInsertedPoint(!1),onOpenInserter()),onToggle()},className:"components-custom-gradient-picker__insert-point-dropdown",icon:plus.Z}),renderContent:()=>(0,jsx_runtime.jsx)(dropdown_content_wrapper.Z,{paddingSize:"none",children:(0,jsx_runtime.jsx)(legacy_adapter.A,{enableAlpha:!disableAlpha,onChange:color=>{alreadyInsertedPoint?onChange(function updateControlPointColorByPosition(points,position,newColor){const index=points.findIndex((point=>point.position===position));return updateControlPointColor(points,index,newColor)}(controlPoints,insertPosition,(0,colord.Vi)(color).toRgbString())):(onChange(function addControlPoint(points,position,color){const nextIndex=points.findIndex((point=>point.position>position)),newPoint={color,position},newPoints=points.slice();return newPoints.splice(nextIndex-1,0,newPoint),newPoints}(controlPoints,insertPosition,(0,colord.Vi)(color).toRgbString())),setAlreadyInsertedPoint(!0))}})}),style:null!==insertPosition?{left:`${insertPosition}%`,transform:"translateX( -50% )"}:void 0})}GradientColorPickerDropdown.displayName="GradientColorPickerDropdown",InsertPoint.displayName="InsertPoint",ControlPoints.InsertPoint=InsertPoint;const control_points=ControlPoints;try{ControlPoints.displayName="ControlPoints",ControlPoints.__docgenInfo={description:"",displayName:"ControlPoints",props:{disableRemove:{defaultValue:null,description:"",name:"disableRemove",required:!0,type:{name:"boolean"}},disableAlpha:{defaultValue:null,description:"",name:"disableAlpha",required:!0,type:{name:"boolean"}},gradientPickerDomRef:{defaultValue:null,description:"",name:"gradientPickerDomRef",required:!0,type:{name:"RefObject<HTMLDivElement>"}},ignoreMarkerPosition:{defaultValue:null,description:"",name:"ignoreMarkerPosition",required:!1,type:{name:"number"}},value:{defaultValue:null,description:"",name:"value",required:!0,type:{name:"ControlPoint[]"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!0,type:{name:"(controlPoints: ControlPoint[]) => void"}},onStartControlPointChange:{defaultValue:null,description:"",name:"onStartControlPointChange",required:!0,type:{name:"() => void"}},onStopControlPointChange:{defaultValue:null,description:"",name:"onStopControlPointChange",required:!0,type:{name:"() => void"}},__experimentalIsRenderedInSidebar:{defaultValue:null,description:"",name:"__experimentalIsRenderedInSidebar",required:!0,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/components/src/custom-gradient-picker/gradient-bar/control-points.tsx#ControlPoints"]={docgenInfo:ControlPoints.__docgenInfo,name:"ControlPoints",path:"packages/components/src/custom-gradient-picker/gradient-bar/control-points.tsx#ControlPoints"})}catch(__react_docgen_typescript_loader_error){}const customGradientBarReducer=(state,action)=>{switch(action.type){case"MOVE_INSERTER":if("IDLE"===state.id||"MOVING_INSERTER"===state.id)return{id:"MOVING_INSERTER",insertPosition:action.insertPosition};break;case"STOP_INSERTER_MOVE":if("MOVING_INSERTER"===state.id)return{id:"IDLE"};break;case"OPEN_INSERTER":if("MOVING_INSERTER"===state.id)return{id:"INSERTING_CONTROL_POINT",insertPosition:state.insertPosition};break;case"CLOSE_INSERTER":if("INSERTING_CONTROL_POINT"===state.id)return{id:"IDLE"};break;case"START_CONTROL_CHANGE":if("IDLE"===state.id)return{id:"MOVING_CONTROL_POINT"};break;case"STOP_CONTROL_CHANGE":if("MOVING_CONTROL_POINT"===state.id)return{id:"IDLE"}}return state},customGradientBarReducerInitialState={id:"IDLE"};function CustomGradientBar({background,hasGradient,value:controlPoints,onChange,disableInserter=!1,disableAlpha=!1,__experimentalIsRenderedInSidebar=!1}){const gradientMarkersContainerDomRef=(0,react.useRef)(null),[gradientBarState,gradientBarStateDispatch]=(0,react.useReducer)(customGradientBarReducer,customGradientBarReducerInitialState),onMouseEnterAndMove=event=>{if(!gradientMarkersContainerDomRef.current)return;const insertPosition=getHorizontalRelativeGradientPosition(event.clientX,gradientMarkersContainerDomRef.current);controlPoints.some((({position})=>Math.abs(insertPosition-position)<MINIMUM_DISTANCE_BETWEEN_INSERTER_AND_POINT))?"MOVING_INSERTER"===gradientBarState.id&&gradientBarStateDispatch({type:"STOP_INSERTER_MOVE"}):gradientBarStateDispatch({type:"MOVE_INSERTER",insertPosition})},isMovingInserter="MOVING_INSERTER"===gradientBarState.id,isInsertingControlPoint="INSERTING_CONTROL_POINT"===gradientBarState.id;return(0,jsx_runtime.jsxs)("div",{className:(0,clsx.Z)("components-custom-gradient-picker__gradient-bar",{"has-gradient":hasGradient}),onMouseEnter:onMouseEnterAndMove,onMouseMove:onMouseEnterAndMove,onMouseLeave:()=>{gradientBarStateDispatch({type:"STOP_INSERTER_MOVE"})},children:[(0,jsx_runtime.jsx)("div",{className:"components-custom-gradient-picker__gradient-bar-background",style:{background,opacity:hasGradient?1:.4}}),(0,jsx_runtime.jsxs)("div",{ref:gradientMarkersContainerDomRef,className:"components-custom-gradient-picker__markers-container",children:[!disableInserter&&(isMovingInserter||isInsertingControlPoint)&&(0,jsx_runtime.jsx)(control_points.InsertPoint,{__experimentalIsRenderedInSidebar,disableAlpha,insertPosition:gradientBarState.insertPosition,value:controlPoints,onChange,onOpenInserter:()=>{gradientBarStateDispatch({type:"OPEN_INSERTER"})},onCloseInserter:()=>{gradientBarStateDispatch({type:"CLOSE_INSERTER"})}}),(0,jsx_runtime.jsx)(control_points,{__experimentalIsRenderedInSidebar,disableAlpha,disableRemove:disableInserter,gradientPickerDomRef:gradientMarkersContainerDomRef,ignoreMarkerPosition:isInsertingControlPoint?gradientBarState.insertPosition:void 0,value:controlPoints,onChange,onStartControlPointChange:()=>{gradientBarStateDispatch({type:"START_CONTROL_CHANGE"})},onStopControlPointChange:()=>{gradientBarStateDispatch({type:"STOP_CONTROL_CHANGE"})}})]})]})}CustomGradientBar.displayName="CustomGradientBar";try{gradientbar.displayName="gradientbar",gradientbar.__docgenInfo={description:"",displayName:"gradientbar",props:{background:{defaultValue:null,description:"",name:"background",required:!0,type:{name:"Background<string | number>"}},hasGradient:{defaultValue:null,description:"",name:"hasGradient",required:!0,type:{name:"boolean"}},value:{defaultValue:null,description:"",name:"value",required:!0,type:{name:"ControlPoint[]"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!0,type:{name:"(newControlPoints: ControlPoint[]) => void"}},disableInserter:{defaultValue:{value:"false"},description:"",name:"disableInserter",required:!1,type:{name:"boolean"}},disableAlpha:{defaultValue:{value:"false"},description:"",name:"disableAlpha",required:!1,type:{name:"boolean"}},__experimentalIsRenderedInSidebar:{defaultValue:{value:"false"},description:"",name:"__experimentalIsRenderedInSidebar",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/components/src/custom-gradient-picker/gradient-bar/index.tsx#gradientbar"]={docgenInfo:gradientbar.__docgenInfo,name:"gradientbar",path:"packages/components/src/custom-gradient-picker/gradient-bar/index.tsx#gradientbar"})}catch(__react_docgen_typescript_loader_error){}},"./packages/components/src/duotone-picker/utils.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Aw:()=>getColorsFromColorStops,YK:()=>getColorStopsFromColors,ZU:()=>getGradientFromCSSColors,fy:()=>getDefaultColors});var colord__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/colord/index.mjs"),colord_plugins_names__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/colord/plugins/names.mjs");function getDefaultColors(palette){return!palette||palette.length<2?["#000","#fff"]:palette.map((({color})=>({color,brightness:(0,colord__WEBPACK_IMPORTED_MODULE_0__.Vi)(color).brightness()}))).reduce((([min,max],current)=>[current.brightness<=min.brightness?current:min,current.brightness>=max.brightness?current:max]),[{brightness:1,color:""},{brightness:0,color:""}]).map((({color})=>color))}function getGradientFromCSSColors(colors=[],angle="90deg"){const l=100/colors.length;return`linear-gradient( ${angle}, ${colors.map(((c,i)=>`${c} ${i*l}%, ${c} ${(i+1)*l}%`)).join(", ")} )`}function getColorStopsFromColors(colors){return colors.map(((color,i)=>({position:100*i/(colors.length-1),color})))}function getColorsFromColorStops(colorStops=[]){return colorStops.map((({color})=>color))}(0,colord__WEBPACK_IMPORTED_MODULE_0__.l7)([colord_plugins_names__WEBPACK_IMPORTED_MODULE_1__.Z])},"./packages/components/src/duotone-picker/stories/duotone-picker.story.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Default:()=>Default,default:()=>duotone_picker_story});var react=__webpack_require__("./node_modules/react/index.js"),es6=__webpack_require__("./node_modules/fast-deep-equal/es6/index.js"),es6_default=__webpack_require__.n(es6),build_module=__webpack_require__("./packages/i18n/build-module/index.js"),swatch=__webpack_require__("./packages/icons/build-module/library/swatch.js"),src_button=__webpack_require__("./packages/components/src/button/index.tsx"),color_palette=__webpack_require__("./packages/components/src/color-palette/index.tsx"),color_indicator=__webpack_require__("./packages/components/src/color-indicator/index.tsx"),icon=__webpack_require__("./packages/components/src/icon/index.tsx"),component=__webpack_require__("./packages/components/src/h-stack/component.tsx"),use_instance_id=__webpack_require__("./packages/compose/build-module/hooks/use-instance-id/index.js"),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js");function ColorOption({label,value,colors,disableCustomColors,enableAlpha,onChange}){const[isOpen,setIsOpen]=(0,react.useState)(!1),idRoot=(0,use_instance_id.Z)(ColorOption,"color-list-picker-option"),labelId=`${idRoot}__label`,contentId=`${idRoot}__content`;return(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)(src_button.ZP,{className:"components-color-list-picker__swatch-button",onClick:()=>setIsOpen((prev=>!prev)),"aria-expanded":isOpen,"aria-controls":contentId,children:(0,jsx_runtime.jsxs)(component.Z,{justify:"flex-start",spacing:2,children:[value?(0,jsx_runtime.jsx)(color_indicator.Z,{colorValue:value,className:"components-color-list-picker__swatch-color"}):(0,jsx_runtime.jsx)(icon.Z,{icon:swatch.Z}),(0,jsx_runtime.jsx)("span",{id:labelId,children:label})]})}),(0,jsx_runtime.jsx)("div",{role:"group",id:contentId,"aria-labelledby":labelId,"aria-hidden":!isOpen,children:isOpen&&(0,jsx_runtime.jsx)(color_palette.ZP,{"aria-label":(0,build_module.__)("Color options"),className:"components-color-list-picker__color-picker",colors,value,clearable:!1,onChange,disableCustomColors,enableAlpha})})]})}function ColorListPicker({colors,labels,value=[],disableCustomColors,enableAlpha,onChange}){return(0,jsx_runtime.jsx)("div",{className:"components-color-list-picker",children:labels.map(((label,index)=>(0,jsx_runtime.jsx)(ColorOption,{label,value:value[index],colors,disableCustomColors,enableAlpha,onChange:newColor=>{const newColors=value.slice();newColors[index]=newColor,onChange(newColors)}},index)))})}ColorListPicker.displayName="ColorListPicker";const color_list_picker=ColorListPicker;try{ColorListPicker.displayName="ColorListPicker",ColorListPicker.__docgenInfo={description:"",displayName:"ColorListPicker",props:{colors:{defaultValue:null,description:"A list of predefined colors. Each color is an object with a `name` and a\n`color` value.\nThe `name` is a string used to identify the color in the UI.\nThe `color` is a valid CSS color string.",name:"colors",required:!0,type:{name:"{ name: string; color: string; }[]"}},labels:{defaultValue:null,description:"A list of labels for each of the options displayed in the UI.",name:"labels",required:!0,type:{name:"string[]"}},value:{defaultValue:{value:"[]"},description:"An array containing the currently selected colors.",name:"value",required:!1,type:{name:"string[]"}},disableCustomColors:{defaultValue:null,description:"Controls whether the custom color picker is displayed.",name:"disableCustomColors",required:!1,type:{name:"boolean"}},enableAlpha:{defaultValue:null,description:"Controls whether the ColorPalette should show an alpha channel control.",name:"enableAlpha",required:!1,type:{name:"boolean"}},onChange:{defaultValue:null,description:"A function that receives the updated color value.",name:"onChange",required:!0,type:{name:"(newValue: string[]) => void"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/components/src/duotone-picker/color-list-picker/index.tsx#ColorListPicker"]={docgenInfo:ColorListPicker.__docgenInfo,name:"ColorListPicker",path:"packages/components/src/duotone-picker/color-list-picker/index.tsx#ColorListPicker"})}catch(__react_docgen_typescript_loader_error){}var circular_option_picker=__webpack_require__("./packages/components/src/circular-option-picker/index.tsx"),v_stack_component=__webpack_require__("./packages/components/src/v-stack/component.tsx"),gradient_bar=__webpack_require__("./packages/components/src/custom-gradient-picker/gradient-bar/index.tsx"),utils=__webpack_require__("./packages/components/src/duotone-picker/utils.ts");const PLACEHOLDER_VALUES=["#333","#CCC"];function CustomDuotoneBar({value,onChange}){const hasGradient=!!value,values=hasGradient?value:PLACEHOLDER_VALUES,background=(0,utils.ZU)(values),controlPoints=(0,utils.YK)(values);return(0,jsx_runtime.jsx)(gradient_bar.Z,{disableInserter:!0,background,hasGradient,value:controlPoints,onChange:newColorStops=>{const newValue=(0,utils.Aw)(newColorStops);onChange(newValue)}})}CustomDuotoneBar.displayName="CustomDuotoneBar";try{customduotonebar.displayName="customduotonebar",customduotonebar.__docgenInfo={description:"",displayName:"customduotonebar",props:{value:{defaultValue:null,description:"",name:"value",required:!1,type:{name:"string[]"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!0,type:{name:"(value?: string[]) => void"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/components/src/duotone-picker/custom-duotone-bar.tsx#customduotonebar"]={docgenInfo:customduotonebar.__docgenInfo,name:"customduotonebar",path:"packages/components/src/duotone-picker/custom-duotone-bar.tsx#customduotonebar"})}catch(__react_docgen_typescript_loader_error){}var spacer_component=__webpack_require__("./packages/components/src/spacer/component.tsx");function DuotonePicker({asButtons,loop,clearable=!0,unsetable=!0,colorPalette,duotonePalette,disableCustomColors,disableCustomDuotone,value,onChange,"aria-label":ariaLabel,"aria-labelledby":ariaLabelledby,...otherProps}){const[defaultDark,defaultLight]=(0,react.useMemo)((()=>(0,utils.fy)(colorPalette)),[colorPalette]),isUnset="unset"===value,unsetOptionLabel=(0,build_module.__)("Unset"),unsetOption=(0,jsx_runtime.jsx)(circular_option_picker.ZP.Option,{value:"unset",isSelected:isUnset,tooltipText:unsetOptionLabel,"aria-label":unsetOptionLabel,className:"components-duotone-picker__color-indicator",onClick:()=>{onChange(isUnset?void 0:"unset")}},"unset"),duotoneOptions=duotonePalette.map((({colors,slug,name})=>{const style={background:(0,utils.ZU)(colors,"135deg"),color:"transparent"},tooltipText=null!=name?name:(0,build_module.gB)((0,build_module.__)("Duotone code: %s"),slug),label=name?(0,build_module.gB)((0,build_module.__)("Duotone: %s"),name):tooltipText,isSelected=es6_default()(colors,value);return(0,jsx_runtime.jsx)(circular_option_picker.ZP.Option,{value:colors,isSelected,"aria-label":label,tooltipText,style,onClick:()=>{onChange(isSelected?void 0:colors)}},slug)}));let metaProps;if(asButtons)metaProps={asButtons:!0};else{const _metaProps={asButtons:!1,loop};metaProps=ariaLabel?{..._metaProps,"aria-label":ariaLabel}:ariaLabelledby?{..._metaProps,"aria-labelledby":ariaLabelledby}:{..._metaProps,"aria-label":(0,build_module.__)("Custom color picker.")}}const options=unsetable?[unsetOption,...duotoneOptions]:duotoneOptions;return(0,jsx_runtime.jsx)(circular_option_picker.ZP,{...otherProps,...metaProps,options,actions:!!clearable&&(0,jsx_runtime.jsx)(circular_option_picker.ZP.ButtonAction,{onClick:()=>onChange(void 0),children:(0,build_module.__)("Clear")}),children:(0,jsx_runtime.jsx)(spacer_component.Z,{paddingTop:0===options.length?0:4,children:(0,jsx_runtime.jsxs)(v_stack_component.Z,{spacing:3,children:[!disableCustomColors&&!disableCustomDuotone&&(0,jsx_runtime.jsx)(CustomDuotoneBar,{value:isUnset?void 0:value,onChange}),!disableCustomDuotone&&(0,jsx_runtime.jsx)(color_list_picker,{labels:[(0,build_module.__)("Shadows"),(0,build_module.__)("Highlights")],colors:colorPalette,value:isUnset?void 0:value,disableCustomColors,enableAlpha:!0,onChange:newColors=>{newColors[0]||(newColors[0]=defaultDark),newColors[1]||(newColors[1]=defaultLight);const newValue=newColors.length>=2?newColors:void 0;onChange(newValue)}})]})})})}DuotonePicker.displayName="DuotonePicker";const duotone_picker=DuotonePicker;try{DuotonePicker.displayName="DuotonePicker",DuotonePicker.__docgenInfo={description:"```jsx\nimport { DuotonePicker, DuotoneSwatch } from '@wordpress/components';\nimport { useState } from '@wordpress/element';\n\nconst DUOTONE_PALETTE = [\n\t{ colors: [ '#8c00b7', '#fcff41' ], name: 'Purple and yellow', slug: 'purple-yellow' },\n\t{ colors: [ '#000097', '#ff4747' ], name: 'Blue and red', slug: 'blue-red' },\n];\n\nconst COLOR_PALETTE = [\n\t{ color: '#ff4747', name: 'Red', slug: 'red' },\n\t{ color: '#fcff41', name: 'Yellow', slug: 'yellow' },\n\t{ color: '#000097', name: 'Blue', slug: 'blue' },\n\t{ color: '#8c00b7', name: 'Purple', slug: 'purple' },\n];\n\nconst Example = () => {\n\tconst [ duotone, setDuotone ] = useState( [ '#000000', '#ffffff' ] );\n\treturn (\n\t\t<>\n\t\t\t<DuotonePicker\n\t\t\t\tduotonePalette={ DUOTONE_PALETTE }\n\t\t\t\tcolorPalette={ COLOR_PALETTE }\n\t\t\t\tvalue={ duotone }\n\t\t\t\tonChange={ setDuotone }\n\t\t\t/>\n\t\t\t<DuotoneSwatch values={ duotone } />\n\t\t</>\n\t);\n};\n```",displayName:"DuotonePicker",props:{clearable:{defaultValue:{value:"true"},description:"Whether there should be a button to clear the duotone value.",name:"clearable",required:!1,type:{name:"boolean"}},unsetable:{defaultValue:{value:"true"},description:"Whether there should be an `unset` option.",name:"unsetable",required:!1,type:{name:"boolean"}},colorPalette:{defaultValue:null,description:"Array of color presets of the form `{ color: '#000000', name: 'Black', slug: 'black' }`.",name:"colorPalette",required:!0,type:{name:"Color[]"}},duotonePalette:{defaultValue:null,description:"Array of duotone presets of the form `{ colors: [ '#000000', '#ffffff' ], name: 'Grayscale', slug: 'grayscale' }`.",name:"duotonePalette",required:!0,type:{name:"DuotoneColor[]"}},disableCustomColors:{defaultValue:{value:"false"},description:"Whether custom colors should be disabled.",name:"disableCustomColors",required:!1,type:{name:"boolean"}},disableCustomDuotone:{defaultValue:{value:"false"},description:"Whether custom duotone values should be disabled.",name:"disableCustomDuotone",required:!1,type:{name:"boolean"}},value:{defaultValue:null,description:"An array of colors for the duotone effect.",name:"value",required:!1,type:{name:'string[] | "unset"'}},onChange:{defaultValue:null,description:"Callback which is called when the duotone colors change.",name:"onChange",required:!0,type:{name:'(value: string[] | "unset") => void'}},asButtons:{defaultValue:{value:"false"},description:"Whether the control should present as a set of buttons,\neach with its own tab stop.",name:"asButtons",required:!1,type:{name:"boolean"}},loop:{defaultValue:{value:"true"},description:"Prevents keyboard interaction from wrapping around.\nOnly used when `asButtons` is not true.",name:"loop",required:!1,type:{name:"boolean"}},"aria-label":{defaultValue:null,description:"A label to identify the purpose of the control.\n@todo [#54055] Either this or `aria-labelledby` should be required",name:"aria-label",required:!1,type:{name:"string"}},"aria-labelledby":{defaultValue:null,description:"An ID of an element to provide a label for the control.\n@todo [#54055] Either this or `aria-label` should be required",name:"aria-labelledby",required:!1,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/components/src/duotone-picker/duotone-picker.tsx#DuotonePicker"]={docgenInfo:DuotonePicker.__docgenInfo,name:"DuotonePicker",path:"packages/components/src/duotone-picker/duotone-picker.tsx#DuotonePicker"})}catch(__react_docgen_typescript_loader_error){}const duotone_picker_story={title:"Components/DuotonePicker",component:duotone_picker,argTypes:{onChange:{action:"onChange"},value:{control:{type:null}}},parameters:{sourceLink:"packages/components/src/duotone-picker",badges:[],controls:{expanded:!0},docs:{canvas:{sourceState:"shown"}}}},Template=({onChange,...args})=>{const[value,setValue]=(0,react.useState)();return(0,jsx_runtime.jsx)(duotone_picker,{...args,onChange:(...changeArgs)=>{setValue(...changeArgs),onChange(...changeArgs)},value})};Template.displayName="Template";const Default=Template.bind({});Default.args={colorPalette:[{color:"#ff4747",name:"Red",slug:"red"},{color:"#fcff41",name:"Yellow",slug:"yellow"},{color:"#000097",name:"Blue",slug:"blue"},{color:"#8c00b7",name:"Purple",slug:"purple"}],duotonePalette:[{colors:["#8c00b7","#fcff41"],name:"Purple and yellow",slug:"purple-yellow"},{colors:["#000097","#ff4747"],name:"Blue and red",slug:"blue-red"}]},Default.parameters={...Default.parameters,docs:{...Default.parameters?.docs,source:{originalSource:"({\n  onChange,\n  ...args\n}) => {\n  const [value, setValue] = useState<DuotonePickerProps['value']>();\n  return <DuotonePicker {...args} onChange={(...changeArgs) => {\n    setValue(...changeArgs);\n    onChange(...changeArgs);\n  }} value={value} />;\n}",...Default.parameters?.docs?.source}}}}}]);