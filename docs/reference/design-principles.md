# Gutenbergのデザイン原則とビジョン

この随時更新される文書は、エディター画面を設計する際に役立つデザイン原則とパターンのいくつかを記述するのに役立ちます。目的は、デザインの背景を説明し、今後の改善についての周知を助けることです。

![Block](https://cldup.com/7HCnN5cFc0.png)

この文書では、どのように _適切なブロック_ をデザインするべきかということも検討していきます。

## Gutenbergのゴール

Gutenberg の包括的な目標は、 _リッチな投稿レイアウト_ を簡単に作成できる投稿とページを構築する経験を作り出すことです。[キックオフ投稿](https://make.wordpress.org/core/2017/01/04/focus-tech-and-design-leads/)より:

> エディターは、新しいページやポストを簡単に作成し構築する経験を実現するために懸命に努力します。そのために、今日の時点では、ショートコード、カスタム HTML 、または「ミステリー・ミート」埋め込みの検出を容易にするためのブロックがあります。

これから以下の事が言えます:

- リッチな投稿を作成することは WordPress の強みのカギとなります。
- ブロックの概念は、一つの傘の下に複数の異なるインターフェースを統一することを目指しています。オブジェクトを埋め込むためにショートコードやカスタム HTML を書いたり、URL を貼り付ける必要はないのです。ブロックの仕組みを覚えるだけで、全てのやり方が分かるようになるべきです。
- 「ミステリー・ミート」とは、ソフトウェアの隠された機能を示します。それはあなたが発見しなくてはなりません。 WordPress は既に大量のブロックと30以上の埋め込みをサポートしているので、人々が既にある機能を見つけられずにプラグインをインストールしないで済むように、その視認性を高めましょう。

## なぜか

WordPress を他のシステムと区別できることの一つとして、自分で想像できるようにリッチな投稿レイアウトを作成できるということがあります -- しかしそれは HTML と CSS を理解し自分のカスタムテーマを構築出来る場合にのみ可能です。リッチな投稿を書けるツールとしてエディターを捉えることによって、数回クリックするだけで美しいレイアウトを作成できるなら、うまくいけば、人々はワンクリックでインストールできるから WordPress を選ぶのではなく、 WordPress がコンテンツのために何でも出来るから好きになってくれるようなるでしょう。

## ビジョン

**全てをブロックにする**。 テキスト、画像、ギャラリー、ウィジェット、ショートコード、そしてカスタム HTML の塊さえも、たとえプラグインや他の方法によって追加されていたとしても、単一のインターフェイス（ブロックインターフェイス）を習得するだけで、すべての操作方法を知ることができます。

**全てのブロックを均等に作成する**。すべては同じ挿入インターフェースの中にあります。最近の投稿、検索、タブ、およびグループ化を使用して、最も多く使用するブロックを簡単に使えるようにします。

**ドラックアンドドロップが追加できる**。明示的なアクション（クリックまたはタブやスペース）が存在する場合にのみ、ドラッグアンドドロップを追加エンハンスメントとしてその上に追加できます。

**プレースホルダーはカギである**。ブロックが中立のプレースホルダー状態を持つことができるなら、そうすべきです。画像のプレースホルダーブロックにはメディアライブラリを開くボタンが表示され、テキストのプレースホルダーブロックには書き込みプロンプトが表示されます。プレースホルダーを使用することで編集可能なレイアウトを事前に定義することができるので、あとは _空白を埋める_ だけでよいのです。

**直接操作**。私たちが構築しているブロック技術は、ページ上で直接コンテンツを操作するユーザーエクスペリエンスを最適化します。プラグインとテーマ作成者は、ユーザーが Web 上で創作するための WYSIWYG （見たままが得られる）環境を提供する目的にぴったり合った具体的なブロックを作成するために、コアが提供するさまざまなツールを一緒に構成する能力を備えるでしょう。

**カスタマイズ**。以前は複雑なマークアップを使用する必要があったため、ショートコードやメタフィールドなどを使用してユーザーがサイトを壊さないように保護していたことが、より簡単で直感的になります。ブロックを使用すると、開発者はレイアウトの一部（たとえば、フィーチャの3列グリッド）を直接レンダリングするテーマ固有のブロックを提供し、ユーザが直接編集できるものを明確に指定できます。つまり、ユーザーは WYSIWYG 経験を得ることができるのです。壊すかもしれないと恐れる必要もなく、開発者に頼まなくてもマークアップを崩さずに簡単に文書を更新したり、画像を入れ替えたり、コラムの数を減らしたりできます。

結局のところ、 Gutenberg のビジョンは、リッチなコンテンツを投稿者が簡単に作成できるようにすることです。適切なデフォルトを確保し、高度なレイアウトオプションのブロックをラップしてバンドルし、最も重要なアクションをすぐに利用できるようにすることで、誰でも WordPress でコンテンツを編集し使えるようにするべきなのです。

## インターフェイスのブループリント

基本的なエディターのインターフェイス:

![基本のインターフェイス](https://cldup.com/NDhf6ofFmq.png)

ブロックのインターフェイス:

![選択されたブロック](https://cldup.com/GlUdQnu0TR.png)

Gutenberg は上のバーと下のコンテンツの間に基本的な区切りがあります。

**editor bar(エディターバー)** は、 _文書レベル_ のアクションが配置されます。エディターモードと同様に、ステータスインジケーターの保存、取り消し/やり直し/挿入のためのグローバルアクション、設定の切り替え、最後にオプションの公開があります。

**content area(コンテンツ領域)** は文書そのものが配置されます。

**settings sidebar(設定サイドバー)** は文書のメタデータが配置されます。どちらも文書そのもの（タグ、カテゴリ、スケジュールなど）のデータだけでなく、「ブロック」タブのブロックも対象となります。

モバイルでは、歯車ボタンをクリックするまでサイドバーは非表示になります。デスクトップでは書くことに集中するためにそれを隠すことができます。

## ブロックのインターフェイス

ブロック自体がエディターの最も基本的な単位です。全てはブロックであり、基礎である HTML マークアップの垂直なフローを模倣して構築されます。文書の各セクションを操作可能なブロックとして表示させることで、各ブロックに文脈上、固有の機能を付与できます。これはデスクトップのレイアウトアプリからを得たもので、UIに重荷を追わせることなく、高度な機能の拡張を追加するための方法です。

このブロックのインターフェイスは _基本的なアクション_ を持ちます。適切なデフォルトを保証し、最も一般的なアクションのみを使用することで、設定サイドバーを使用せずにブログを書くこと全てを完了できるようにするべきです。

ブロック自体には複数の状態があります:

- _選択されていないブロック_ は、コンテンツ自体のライブプレビューに最も近いものです。
- _選択されたブロック_ には、「クイックツールバー」が表示され、ブロックを操作する直接アクションが表示されます。特別な要素もブロックコンテンツ自体に表示されます。たとえば、画像ブロックにはキャプションフィールドが表示され、引用符には引用フィールドが表示され、ダイナミックブロックにはフォームフィールドを追加するためのボタンが表示されます。

注釈 _選択_ と _フォーカス_ は異なります。つまり、イメージブロックは選択できますがそのフォーカスはキャプションフィールドにあり、特別な（キャプション固有の）UIが表示されます。

長いブロックのページを下にスクロールすると、クイックツールバーがブロックから外れ、画面の上部に張り付きます。

## エディターの設定

ブロックに高度な設定が必要な場合は、設定サイドバーに表示されます。エディターのブロック設定は、そのブロックの隣にある歯車アイコンをクリックして直接行うこともできます。

サイドバーには文書とブロックの2つのタブがあります。

- 「文書」タブには編集している投稿やページのメタデータと設定が表示されます。
- 「ブロック」タブには現在選択されているブロックのメタデータと設定が表示されます。

サイドバーの「ブロック」タブには、ブロックの基本操作に必要なものは置かないでください。ユーザーは書くことに集中するためにサイドバーを隠すかもしれません。 したがって、適切なデフォルトを選択し、クイックツールバーで重要なアクションを利用できるようにします。

サイドバーの「ブロック」タブに表示されるアクションの例:

- テキストのドロップキャップ
- ギャラリーの列の数
- 「最新の投稿」ブロック内での、投稿数やカテゴリー数
- 基本的なタスクを実行するためにアクセスする _必要_ のない設定

## ブロックデザインのチェックリスト、すべきこととすべきでないこと、事例

以下は、ブロックと、どのオプションがどこにあるかのリストです。 新しいブロックを開発している場合は、これがオプションを配置する場所を示唆するのに役立つでしょう。

これがブロックの基本的なレシピです:

- ブロックの挿入ツールには素敵なアイコンとラベルを付けるべきです。出来るだけシンプルに。
- ブロックを挿入した時には、適切なプレースホルダーの状態を持たせるべきです。テキストの入力の場合は、適切なプレースホルダーのテキストを表示してください。メディアを表示する場合は、メディアライブラリへアップロードまたはアクセスするためのボタンや、ドラッグアンドドロップのドロップゾーンなどを持たせてください。プレースホルダーの状態は、将来、ページや投稿のテンプレートを作成するために使用されるでしょう。
- 未選択時のブロックにはそのコンテンツがプレビューされるべきです。
- 選択時のブロックには、入力フィールドなどの、追加のオプションが表示されます。または — 基本的操作にとって必要ならば — ブロックを直接設定するためのボタンが表示されます。
- 全てのブロックには、設定サイドバーの「ブロック」タブに最低限の説明を表示させるべきです。選択しているブロックの横の歯車をクリックすることで、どのブロックのものにもアクセスできます。
- 追加ブロックのオプションと設定を「ブロック」タブにも追加することが出来ますが、ユーザーはサイドバーを隠してしまうかもしれませんし一度も使わないかもしれないことを忘れないでください。そのため、ブロックにとって重要な設定はここに置けません。

以下にブロックの例を幾つかと、どのオプションがどこに行くか、其の理由を書き出します。

### テキスト

エディターの最も基本的な単位です。テキストはシンプルな入力フィールドです。

プレースホルダー:

- 「新しい段落」というシンプルなプレースホルダーのテキスト

選択された状態:

- クイックツールバー: 見出しなどへの変換を実行するための切り替えツールを備えています
- クイックツールバー: 基本的なテキストの配置を備えています
- クイックツールバー: 太字、イタリック、取り消し線やリンクといったインラインの書式設定オプションを備えています

エディターブロックの設定:

- 「コンテンツに段落を追加するためのシンプルなテキストのみのブロックです。」という説明があります。
- ドロップキャップを有効または無効にするオプションがあります。 ドロップキャップは、選択されていない（プレビュー）状態のブロックでのみ表示されます。

_ドロップキャップ機能はブロックの基本操作には重要ではないため、拡張されたサイドバーにあり、クイックツールバーを軽くしています。_

### 画像

基本的な画像のブロック。

プレースホルダー:

- 画像をアップロードしたり、画像を直接ドロップしたり、メディアライブラリから画像を選択したりするためのオプションを備えた包括的なグレーのプレースホルダーのブロックです。 このプレースホルダーのブロックは、実際の画像のようにレイアウトすることができ、ユーザーが実際の画像を追加してもこのレイアウトが維持されます。

選択された状態:

- クイックツールバー： ワイドおよびフルワイド（テーマでサポートされている場合）などの配置。
- クイックツールバー： ギャラリーの編集（メディアライブラリを開く）
- クイックツールバー： リンクボタン
- キャプション入力フィールドが表示され、画像の下に「キャプションを入力...」というプレースホルダテキストが表示されます

エディターブロックの設定:

- 「千の言葉に値する。」という説明があります。
- `alt` テキストを変更または追加するオプションと、カスタムCSSクラスを追加するオプションがあります。

_画像ブロックの今後の改善点としては、プレースホルダ自体から直接イメージを選択させる代わりに、メディアのモーダル画面を取り除くことなどがあります。 一般的に、モーダル画面を避けるようにしてください。_

### 最新の投稿

プレースホルダー:

- プレースホルダーはなく、挿入時に正常に動作します。デフォルトの挿入された状態では最新5件の投稿を表示します。

選択された状態:

- クイックツールバー: 配置
- クイックツールバー: リストビューかグリットビューかを選択するオプション

エディターブロックの設定:

- 「あなたのサイトで最も最近の投稿のリストを表示します」という説明があります。
- 投稿日を表示したり、デフォルトの表示数を変更したり、追加 CSS のクラスを追加できるオプションがあります。

_挿入するとすぐに、最新の投稿は完全に機能します。なぜなら、それは良いデフォルトが付いているからです。_

### お問合わせフォーム

プレースホルダー:

- プレースホルダはなく、デフォルトの挿入状態には機能するお問合わせフォームが表示されます。
 
選択された状態:

- クイックツールバー: 配置
- 削除できるフィールドの横に「削除」ボタンが表示されます。
- 「フィールドを追加」ボタンが表示され、追加の連絡先フィールドのオプションを選択できるポップアップが開きます。

エディターブロックの設定:

- 「基本的なお問合わせフォーム」という説明があります。
- 電子メールアドレスを必須にするためのオプションがあり、デフォルトでチェックされています。
- １ページに複数のフォームがある場合に備えて、フォームIDまたは名前を変更するオプションがあります。

_注釈: このブロックは現在 Gutenberg には存在しませんが、上記ではこのようなブロックをデザインするための「ベストプラクティス」について説明しています。より複雑なブロックの1つで、挿入時に完全に機能することが重要であり、適切なデフォルトによって助けられています。_

## 今後の改善

キックオフ目標の一環としての Gutenberg は、主に、投稿とページの _コンテンツ領域_ （特に `post_content` ）の範囲に限定されています。 これらの領域内では、ブロックを順次に追加することによって、コンテンツの垂直な流れとして Web を取り入れています。そして、各ブロックにレイアウトオプションを追加しています。

しかし、 Web 自体の垂直性がより高度なレイアウトを可能にしないように、 Gutenberg が達成できるレイアウトの種類には一定の制限はありません。 そのため、 Gutenberg は、投稿やページ _コンテンツ_ の範囲を超えて、コンテンツを囲むすべてを含め、ページ全体を含めて、発展することが限りなく可能なのです。

それを考える方法の1つは、次のような、カンマで区切られただけのブロックのリストであるテーマテンプレートです:

```{
{
  'themename/header',
  'themename/sidebar',
  'core/content' {
    'core/cover-image',
    'themename/author-card',
    'core/text',
  },
  'themename/footer',
}
```
_コンテンツ_ ブロック内にネストされたすべてのブロックは _再配置可能_ です。すべてのブロックは _編集可能_ です。すべてのブロックは同じ API を使用して作成され、エディターとテーマの両方が同じ `style.css` ファイルを直接ロードします。最終的には、テーマもしくはフロントエンド自体を見ているように、エディターもしくはページビルダーでも同じように見えるようになるでしょう。

*ページテンプレート* 。ブロックが空の状態から、テーマテンプレートはブロックが与えられたページを構成する宣言であると想像しやすくなります。これらのブロックは、自然に、提供できるテーマを達成するために必要な情報を入力するようにユーザーを誘導します — ユーザーが注目したテーマデモを模倣するのは非常に一般的です。これらのテンプレートは、Keynote のようなアプリケーションと同様に機能するでしょう、それは新しいページを作成するときに特定のテンプレートを選択し、特定の外観を実現するためにコンテンツのブロックが既にレイアウトされています。

この概念は思索的なものですが、将来的に Gutenberg が到達できるひとつの方向です。

## その他のリソース

あなたが貢献したい場合は、 Gutenberg モックアップの Sketch ファイルをダウンロードすることができます。それらはまだモックアップであり、正確な1：1ではないことに注意してください。 Sketch ファイルの更新よりも速く開発が進むことがあるため、 Sketch ファイルは最新の Gutenberg 自体にとって最新ではない可能性もあります!

**<a href="https://cloudup.com/c8Rbgsgg3nq">Sketch のモックアップとパターンファイルをダウンロードする</a>**.

<a href="https://wordpress.org/gutenberg/handbook/reference/faq/">FAQ</a> や <a href="https://wordpress.org/gutenberg/handbook/">ブロックの作成方法</a> も合わせてお読みください。
